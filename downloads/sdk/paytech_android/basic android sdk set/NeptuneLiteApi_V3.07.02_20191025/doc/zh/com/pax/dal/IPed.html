<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Fri Oct 25 14:05:01 CST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>IPed</title>
<meta name="date" content="2019-10-25">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IPed";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6,"i27":6,"i28":6,"i29":6,"i30":6,"i31":6,"i32":6,"i33":6,"i34":6,"i35":6,"i36":6,"i37":6,"i38":6,"i39":6,"i40":6,"i41":6,"i42":6,"i43":6,"i44":6,"i45":6,"i46":6,"i47":6,"i48":6,"i49":6,"i50":6,"i51":6,"i52":6,"i53":6,"i54":6,"i55":6,"i56":6,"i57":6,"i58":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/pax/dal/IMag.html" title="interface in com.pax.dal"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/pax/dal/IPed.html" target="_top">Frames</a></li>
<li><a href="IPed.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.pax.dal</div>
<h2 title="Interface IPed" class="title">Interface IPed</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../com/pax/dal/pedkeyisolation/IPedKeyIsolation.html" title="interface in com.pax.dal.pedkeyisolation">IPedKeyIsolation</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">IPed</span></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal">IPed.IPedInputPinListener</a></span></code>
<div class="block"><div class="zh"> PED 輸入PIN监听器,仅对内置PED有效  <div class="en"> PED input PIN listener,only effective on internal
 PED </div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#calcAes-byte-byte:A-byte:A-com.pax.dal.entity.ECryptOperate-com.pax.dal.entity.ECryptOpt-">calcAes</a></span>(byte&nbsp;keyIdx,
       byte[]&nbsp;initvector,
       byte[]&nbsp;dataIn,
       <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity">ECryptOperate</a>&nbsp;operation,
       <a href="../../../com/pax/dal/entity/ECryptOpt.html" title="enum in com.pax.dal.entity">ECryptOpt</a>&nbsp;option)</code>
<div class="block"><div class="zh"> 用AES算法进行加密或者解密 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en"> Use AES algorithm to encrypt or decrypt.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#calcDes-byte-byte:A-byte:A-byte-">calcDes</a></span>(byte&nbsp;keyIndex,
       byte[]&nbsp;initvector,
       byte[]&nbsp;dataIn,
       byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用TDK对DataInLen长度的数据进行DES/TDES运算，使用DES或TDES根据密钥的长度而定。
 外置A类PED需要调用setExMode <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>设置exMode exMode默认为-1,表示TDK长度为16字节,如果TDK长度为16字节则可以使用该默认值 。
 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> To use TDK encrypt or decrypt data by DES/TDES.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#calcDes-byte-byte:A-com.pax.dal.entity.EPedDesMode-">calcDes</a></span>(byte&nbsp;keyIndex,
       byte[]&nbsp;datain,
       <a href="../../../com/pax/dal/entity/EPedDesMode.html" title="enum in com.pax.dal.entity">EPedDesMode</a>&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用TDK对DataInLen长度的数据进行DES/TDES运算，使用DES或TDES根据密钥的长度而定。
 外置A类PED需要调用setExMode <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>设置exMode exMode默认为-1,表示TDK长度为16字节,如果TDK长度为16字节则可以使用该默认值。
 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  
 <div class="en"> To use TDK encrypt or decrypt data by DES/TDES.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#calcDUKPTDes-byte-byte-byte:A-byte:A-com.pax.dal.entity.EDUKPTDesMode-">calcDUKPTDes</a></span>(byte&nbsp;groupIndex,
            byte&nbsp;keyVarType,
            byte[]&nbsp;iv,
            byte[]&nbsp;dataIn,
            <a href="../../../com/pax/dal/entity/EDUKPTDesMode.html" title="enum in com.pax.dal.entity">EDUKPTDesMode</a>&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥或DES密钥，对输入缓存内数据进行加密或解密。 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en"> Use MAC key or DES key of DUKPT to encrypt or decrypt the data in the input buffer.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#cancelInput--">cancelInput</a></span>()</code>
<div class="block"><div class="zh"> PedGetPinBlock 时取消输入。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> 类型。  
 <div class="en"> Cancel input when PedGetPinBlock.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#clearScreen--">clearScreen</a></span>()</code>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘
 
 清屏  <div class="en"> This interface only be used for external PIN pad Clear screen </div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#erase--">erase</a></span>()</code>
<div class="block"><div class="zh"> 清除PED里的所有密钥信息 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en"> Clear all key information of PED.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#genRSAKey-byte-byte-short-byte-">genRSAKey</a></span>(byte&nbsp;pvtKeyIdx,
         byte&nbsp;pubKeyIdx,
         short&nbsp;modLenBit,
         byte&nbsp;pubExpType)</code>
<div class="block"><div class="zh"> 生成RSA密钥对并注入PED。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  
 <div class="en"> Generate RSA key pairs then inject into PED.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/SM2KeyPair.html" title="class in com.pax.dal.entity">SM2KeyPair</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#genSM2KeyPair-int-">genSM2KeyPair</a></span>(int&nbsp;keyLenBit)</code>
<div class="block"><div class="zh"> 生成一组 SM2 密钥对。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  
 <div class="en"> Generate one SM2 key-pair.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getDUKPTKsn-byte-">getDUKPTKsn</a></span>(byte&nbsp;groupIndex)</code>
<div class="block"><div class="zh"> 读取下一次计算的KSN。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en"> KSN Reading the KSN which will be computed at next time.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getDUKPTPin-byte-java.lang.String-byte:A-java.lang.Boolean-java.lang.String-java.lang.String-int-">getDUKPTPin</a></span>(byte&nbsp;groupIndex,
           java.lang.String&nbsp;expPinLen,
           byte[]&nbsp;dataIn,
           java.lang.Boolean&nbsp;isByPass,
           java.lang.String&nbsp;msg1,
           java.lang.String&nbsp;msg2,
           int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 在PED上输入PIN，并使DUKPT的PIN密钥计算PINBlock，仅适用于type-c类外置密码键盘。 <div class="en"> PINBlock Input the PIN on PED,and use
 the PINkey of DUKPT to calculate the PINBlock.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getDUKPTPin-byte-java.lang.String-byte:A-com.pax.dal.entity.EDUKPTPinMode-int-">getDUKPTPin</a></span>(byte&nbsp;groupIndex,
           java.lang.String&nbsp;expPinLen,
           byte[]&nbsp;dataIn,
           <a href="../../../com/pax/dal/entity/EDUKPTPinMode.html" title="enum in com.pax.dal.entity">EDUKPTPinMode</a>&nbsp;mode,
           int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 在PED上输入PIN，并使DUKPT的PIN密钥计算PINBlock  <div class="en"> PINBlock Input the PIN on PED,and use
 the PINkey of DUKPT to calculate the PINBlock.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getDUPKTMac-byte-byte:A-com.pax.dal.entity.EDUKPTMacMode-">getDUPKTMac</a></span>(byte&nbsp;groupIndex,
           byte[]&nbsp;dataIn,
           <a href="../../../com/pax/dal/entity/EDUKPTMacMode.html" title="enum in com.pax.dal.entity">EDUKPTMacMode</a>&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥计算MAC。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  
 <div class="en"> Use MAC Key to calculate MAC.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getKCV-com.pax.dal.entity.EPedKeyType-byte-byte-byte:A-">getKCV</a></span>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;type,
      byte&nbsp;keyIndex,
      byte&nbsp;checkMode,
      byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh"> 获取密钥的KCV值，以供对话双方进行密钥验证，用指定的密钥及算法对一段数据进行加密，并返回部分数据密文。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型 。 
 <div class="en"> Getting value of KCV for key verification of to side, using specific key and algorithm to encrypt data, and then return part of cryptograph.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getKeyBoardType--">getKeyBoardType</a></span>()</code>
<div class="block"><div class="zh"> 获取PIN输入的密码键盘类型 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en"> get keyboard type for PIN entry.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-">getMac</a></span>(byte&nbsp;keyIndex,
      byte[]&nbsp;dataIn,
      <a href="../../../com/pax/dal/entity/EPedMacMode.html" title="enum in com.pax.dal.entity">EPedMacMode</a>&nbsp;mode)</code>
<div class="block"><div class="zh"> 用KeyIdx指定的MAC密钥对DataIn进行mode指定的算法进行MAC运算，将8字节的MAC结果返回 外置A类PED需要除了设置PinBlockMode外还需要调用setExMode
 <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>设置exMode exMode默认为-1,表示TAK长度为16字节,如果TAK长度为16字节则可以使用该默认值 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。
 <div class="en"> To use KeyIdx MAC key calculate the DataIn following the specified Mode algorithm, return the 8 bytes MAC result.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getMacSM-byte-byte:A-byte:A-byte-">getMacSM</a></span>(byte&nbsp;keyIdx,
        byte[]&nbsp;initVector,
        byte[]&nbsp;input,
        byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用 SM4 算法计算 MAC。 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> Use SM4 algorithm to calculate MAC.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getPinBlock-byte-java.lang.String-byte:A-byte-int-">getPinBlock</a></span>(byte&nbsp;keyIndex,
           java.lang.String&nbsp;expPinLen,
           byte[]&nbsp;dataIn,
           byte&nbsp;mode,
           int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div class="en"> Scan the keyboard PIN entry and
 output the PIN BLOCK encrypted data block in a specific time.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getPinBlock-byte-java.lang.String-byte:A-byte-int-int-">getPinBlock</a></span>(byte&nbsp;keyIdx,
           java.lang.String&nbsp;expPinLen,
           byte[]&nbsp;dataIn,
           byte&nbsp;mode,
           int&nbsp;timeoutMs,
           int&nbsp;controlTime)</code>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div class="en"> Scan the keyboard PIN entry and
 output the PIN BLOCK encrypted data block in a specific time.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getPinBlock-byte-java.lang.String-byte:A-com.pax.dal.entity.EPinBlockMode-int-">getPinBlock</a></span>(byte&nbsp;keyIndex,
           java.lang.String&nbsp;expPinLen,
           byte[]&nbsp;dataIn,
           <a href="../../../com/pax/dal/entity/EPinBlockMode.html" title="enum in com.pax.dal.entity">EPinBlockMode</a>&nbsp;mode,
           int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  
 <div class="en"> Scan the keyboard PIN entry and output the PIN BLOCK encrypted data block in a specific time.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getPinBlockSM4-byte-java.lang.String-byte:A-com.pax.dal.entity.EPinBlockMode-int-">getPinBlockSM4</a></span>(byte&nbsp;keyIndex,
              java.lang.String&nbsp;expPinLen,
              byte[]&nbsp;dataIn,
              <a href="../../../com/pax/dal/entity/EPinBlockMode.html" title="enum in com.pax.dal.entity">EPinBlockMode</a>&nbsp;mode,
              int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 指定的时限内,扫描键盘上输入的 PIN 并输出采用 SM4 算法生成的 PIN BLOCK 加密数据块。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  <div class="en"> Scan the keyboard
 PIN entry and output the PIN BLOCK using SM4_TPK.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getSN--">getSN</a></span>()</code>
<div class="block"><div class="zh"> 获取外置密码键盘的SN。支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> 类型。 
 <div class="en"> get External Ped Serial Number.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getVersion--">getVersion</a></span>()</code>
<div class="block"><div class="zh"> 获取PED的版本。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  
 <div class="en"> Get the PED version information.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#idKeyCalc-byte-byte:A-byte:A-com.pax.dal.entity.EIdKeycCalcMode-">idKeyCalc</a></span>(byte&nbsp;keyId,
         byte[]&nbsp;initvector,
         byte[]&nbsp;dataIn,
         <a href="../../../com/pax/dal/entity/EIdKeycCalcMode.html" title="enum in com.pax.dal.entity">EIdKeycCalcMode</a>&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用Idkey对机器序列号等身份信息进行加密运算 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en"> Use IdKey encrypt Identity information.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#incDUKPTKsn-byte-">incDUKPTKsn</a></span>(byte&nbsp;groupIndex)</code>
<div class="block"><div class="zh"> KSN加1,每个KSN对应的DUKPT密钥，最多只能使用256次。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div class="en"> Add 1 to KSN，each KSN corresponds to
 the DUKPT key, which can be used at most 256 times.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#inputStr-byte-byte-byte-int-">inputStr</a></span>(byte&nbsp;mode,
        byte&nbsp;min,
        byte&nbsp;max,
        int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘
 
 超时时间内输入指定长度范围内的字符串。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  <div class="en"> This interface only be used for external PIN pad Type string with
 specified length within timeout.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity">RSAKeyInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#readRSAKey-byte-">readRSAKey</a></span>(byte&nbsp;rsaKeyIndex)</code>
<div class="block"><div class="zh"> 读取RSA公钥密钥 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en"> Read rsa public key.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/RSARecoverInfo.html" title="class in com.pax.dal.entity">RSARecoverInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#RSARecover-byte-byte:A-">RSARecover</a></span>(byte&nbsp;rsaKeyIndex,
          byte[]&nbsp;dataIn)</code>
<div class="block"><div class="zh"> 用存储在PED的RSA密钥进行数据RSA数据运算。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
  <div class="en"> Using the RSA key stored in PED to do the RSA data operation.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setAmount-java.lang.String-">setAmount</a></span>(java.lang.String&nbsp;amount)</code>
<div class="block"><div class="zh"> 输入Pin时设置总额(UMS定制)。 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en"> Set amount Text when Input Pin (only for UMS).</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setExMode-int-">setExMode</a></span>(int&nbsp;exMode)</code>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘，下载密钥，计算pinblock,计算mac,des加解密使用 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 <div class="en"> This interface only be used
 for external PIN pad Use for downloading main key and work key.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setFunctionKey-byte-">setFunctionKey</a></span>(byte&nbsp;ucKey)</code>
<div class="block"><div class="zh"> 设定某些功能键的功能。PED 上电后,CLEAR 键的默认功能为,持卡人输入 PIN 时,按 CLEAR 键, 清除已输入的 PIN。可以通过该函数来设置 CLEAR 键的不同功能。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
  <div class="en">The function of setting some function keys.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setFunctionKey-com.pax.dal.entity.EFuncKeyMode-">setFunctionKey</a></span>(<a href="../../../com/pax/dal/entity/EFuncKeyMode.html" title="enum in com.pax.dal.entity">EFuncKeyMode</a>&nbsp;mode)</code>
<div class="block"><div class="zh"> 设定某些功能键的功能。 PED上电后,CLEAR键的默认功能为,持卡人输入PIN时,按CLEAR键,清除已输入的PIN。 可以通过该函数来设置CLEAR键的不同功能。
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  
 <div class="en"> Setting some functions of function key.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setInputPinListener-com.pax.dal.IPed.IPedInputPinListener-">setInputPinListener</a></span>(<a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal">IPed.IPedInputPinListener</a>&nbsp;listener)</code>
<div class="block"><div class="zh"> 设置输入密码监听器。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型  <div class="en"> set ped listener.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setIntervalTime-int-int-">setIntervalTime</a></span>(int&nbsp;tpkIntervalTimeMs,
               int&nbsp;takIntervalTimeMs)</code>
<div class="block"><div class="zh"> 设置两次计算PINBlock或者计算MAC之间最小间隔时间
 PINBLOCK间隔时间的计算方式：默认为120秒那只能调用4次，即tpkIntervalTimeMs默认值为30秒，调用该函数重新设置后，限制为4*
 tpkIntervalTimeMs时间内只能调用4次。比如传入的tpkIntervalTimeMs为20000(ms)，则80秒内只能调用4次。
 MAC间隔时间的计算方式：限制为两次计算MAC的间隔时间必须大于等于TAKIntervalTimeMs；比如传入的TAKIntervalTimeMs为20000(ms)，则20秒内只能调用1次。
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en"> Set the minimum time interval of calculating the PINBlock or MAC twice.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setKeyBoardLayout-boolean-java.util.LinkedHashMap-">setKeyBoardLayout</a></span>(boolean&nbsp;isOnce,
                 java.util.LinkedHashMap&lt;View,java.lang.String&gt;&nbsp;keyboardInputs)</code>
<div class="block"><div class="zh"> 设置定制的Pin输入键盘布局  ,调用此方法前，需保证传入的View已绘制完成，
  如Activity.onWindowFocusChanged(boolean hasFocus),hasFocus=true时，调用此方法。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en">Set the custom Pin input keyboard layout,This method is called before, 
  need to ensure that the incoming View has been mapped, such as Activity.onWindowFocusChanged (Boolean hasFocus), 
  when hasFocus equals true, this method is called.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setKeyBoardLayout-boolean-java.lang.String-">setKeyBoardLayout</a></span>(boolean&nbsp;isOnce,
                 java.lang.String&nbsp;layoutInfo)</code>
<div class="block"><div class="zh"> 设置定制的Pin输入键盘布局 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Set the custom Pin input keyboard layout.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setKeyboardLayoutLandscape-boolean-">setKeyboardLayoutLandscape</a></span>(boolean&nbsp;landscape)</code>
<div class="block"><div class="zh"> 设置密码键盘横向显示。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  
 <div class="en">Set password keyboard horizontal display.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setKeyboardRandom-boolean-">setKeyboardRandom</a></span>(boolean&nbsp;random)</code>
<div class="block"><div class="zh">设置键盘按键显示模式，固定序列或随机序列(默认)。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Set keyboard display mode, fixed sequence or
 random sequence (default).</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setKeyBoardType-int-">setKeyBoardType</a></span>(int&nbsp;type)</code>
<div class="block"><div class="zh"> 设置PIN输入的密码键盘类型。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div class="en"> set keyboard type.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setPort-com.pax.dal.entity.EUartPort-">setPort</a></span>(<a href="../../../com/pax/dal/entity/EUartPort.html" title="enum in com.pax.dal.entity">EUartPort</a>&nbsp;port)</code>
<div class="block"><div class="zh"> 设置外置PED的连接端口。支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> 类型。 
 <div class="en"> Set connection port of the external PED.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#showInputBox-boolean-java.lang.String-">showInputBox</a></span>(boolean&nbsp;flag,
            java.lang.String&nbsp;title)</code>
<div class="block"><div class="zh"> 设置输入框密码的显隐 （*） 和提示信息。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div class="en"> Show Password * at Keyboard Page when input Pin and
 Set reminder text when input Pin.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#showStr-byte-byte-java.lang.String-">showStr</a></span>(byte&nbsp;x,
       byte&nbsp;y,
       java.lang.String&nbsp;str)</code>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘 显示英文字符。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  <div class="en"> This interface only be used for external PIN pad
 show English character.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#SM2Recover-byte-byte:A-com.pax.dal.entity.ECryptOperate-">SM2Recover</a></span>(byte&nbsp;keyIdx,
          byte[]&nbsp;input,
          <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity">ECryptOperate</a>&nbsp;operation)</code>
<div class="block"><div class="zh"> 使用 SM2 公钥加密数据或私钥解密数据 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 <div class="en"> Use SM2 public key to encrypt data, or SM2 private
 key to decrypt data.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#SM2Sign-byte-byte-byte:A-byte:A-">SM2Sign</a></span>(byte&nbsp;pubKeyIdx,
       byte&nbsp;pvtKeyIdx,
       byte[]&nbsp;uid,
       byte[]&nbsp;input)</code>
<div class="block"><div class="zh"> 使用 SM2 算法获得签名信息 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> Use SM2 algorithm to calculate the signature data.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#SM2Verify-byte-byte:A-byte:A-byte:A-">SM2Verify</a></span>(byte&nbsp;pubKeyIdx,
         byte[]&nbsp;uid,
         byte[]&nbsp;input,
         byte[]&nbsp;signature)</code>
<div class="block"><div class="zh"> 使用 SM2 公钥验证签名。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  
 <div class="en"> Use SM2 algorithm to verify the signature data.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#SM3-byte:A-byte-">SM3</a></span>(byte[]&nbsp;input,
   byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用 SM3 算法计算杂凑值。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  
 <div class="en"> Use SM3 algorithm to calculate Hash.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#SM4-byte-byte:A-byte:A-com.pax.dal.entity.ECryptOperate-com.pax.dal.entity.ECryptOpt-">SM4</a></span>(byte&nbsp;keyIdx,
   byte[]&nbsp;initVector,
   byte[]&nbsp;input,
   <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity">ECryptOperate</a>&nbsp;operation,
   <a href="../../../com/pax/dal/entity/ECryptOpt.html" title="enum in com.pax.dal.entity">ECryptOpt</a>&nbsp;option)</code>
<div class="block"><div class="zh"> 使用 SM4 算法加密或解密数据 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> Use SM4 algorithm to encrypt or decrypt.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#verifyCipherPin-byte-java.lang.String-com.pax.dal.entity.RSAPinKey-byte-int-">verifyCipherPin</a></span>(byte&nbsp;slot,
               java.lang.String&nbsp;expPinLen,
               <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity">RSAPinKey</a>&nbsp;rsaPinKey,
               byte&nbsp;mode,
               int&nbsp;timeout)</code>
<div class="block"><div class="zh"> 实现脱机密文PIN校验功能。先获取明文PIN，再用应用提供的RsaPinKey对明文PIN按照EMV规范进行加密，然后用应用
 提供的卡片命令与卡片通道号，将密文PIN直接发送给卡片 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en"> Verify enciphered PIN offline.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#verifyCipherPin-byte-java.lang.String-com.pax.dal.entity.RSAPinKey-byte-int-int-">verifyCipherPin</a></span>(byte&nbsp;slot,
               java.lang.String&nbsp;expPinLen,
               <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity">RSAPinKey</a>&nbsp;rsaPinKey,
               byte&nbsp;mode,
               int&nbsp;timeoutMs,
               int&nbsp;controlTime)</code>
<div class="block"><div class="zh"> 实现脱机密文PIN校验功能。先获取明文PIN，再用应用提供的RsaPinKey对明文PIN按照EMV规范进行加密，然后用应用提供的卡片命令与卡片通道号，将密文PIN直接发送给卡片 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en"> Verify enciphered PIN offline.</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#verifyPlainPin-byte-java.lang.String-byte-int-">verifyPlainPin</a></span>(byte&nbsp;slot,
              java.lang.String&nbsp;expPinLen,
              byte&nbsp;mode,
              int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 实现脱机明文PIN校验功能。获取明文PIN，然后按照应用提供的卡片命令与卡片通道号，将明文PIN BLOCK直接发送给卡片(PIN BLOCK格式在用法部分描述)。
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  
 <div class="en"> Achieve the function of verifying plaintext offline PIN.</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#verifyPlainPin-byte-java.lang.String-byte-int-int-">verifyPlainPin</a></span>(byte&nbsp;slot,
              java.lang.String&nbsp;expPinLen,
              byte&nbsp;mode,
              int&nbsp;timeoutMs,
              int&nbsp;controlTime)</code>
<div class="block"><div class="zh"> 实现脱机明文PIN校验功能。获取明文PIN，然后按照应用提供的卡片命令与卡片通道号，将明文PIN BLOCK直接发送给卡片(PIN BLOCK格式在用法部分描述)。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div
 class="en"> Achieve the function of verifying plaintext offline PIN.</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeAesKey-com.pax.dal.entity.EPedKeyType-byte-byte-byte:A-com.pax.dal.entity.EAesCheckMode-byte:A-">writeAesKey</a></span>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
           byte&nbsp;srcKeyIndex,
           byte&nbsp;destkeyIndex,
           byte[]&nbsp;destKeyValue,
           <a href="../../../com/pax/dal/entity/EAesCheckMode.html" title="enum in com.pax.dal.entity">EAesCheckMode</a>&nbsp;checkMode,
           byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh">写入一个AES密钥，并可以选择使用KCV验证密钥正确性。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div class="en"> To write Aes key to PED,only allow TAESK
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div>
</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">writeKey</a></span>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
        byte&nbsp;srcKeyIndex,
        <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;destKeyType,
        byte&nbsp;destkeyIndex,
        byte[]&nbsp;destKeyValue,
        <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
        byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh"> 写入一个密钥，包括TLK，TMK和TWK的写入、发散，并可以选择使用KCV验证密钥正确性</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeKeyVar-com.pax.dal.entity.EPedKeyType-byte-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">writeKeyVar</a></span>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;type,
           byte&nbsp;srcKeyIndex,
           byte&nbsp;destKeyIndex,
           byte[]&nbsp;xorData,
           <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
           byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh"> 使用指定密钥类型的密钥索引所在的密钥明文与一串数据进行异或，得到密钥写入到同一类型密钥区的指定索引位置 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en"> Use the plaintext key specified by the source key index and the key type to do exclusive-or with the input data, and write the
 result to the location specified by the destination key index with the same key type.</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeRSAKey-byte-com.pax.dal.entity.RSAKeyInfo-">writeRSAKey</a></span>(byte&nbsp;rsaKeyIndex,
           <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity">RSAKeyInfo</a>&nbsp;info)</code>
<div class="block"><div class="zh"> 1.注入RSA密钥到PED <br/>
 2.PED最多支持10组RSA密钥,目前最长只支持256字节长的RSA密钥。 <br/>
 3.存储的RSA密钥是公钥还是私钥由密钥的指数长度决定,当密钥指数和模等长时,是私钥。 <br/>
 4.PED通过PedWriteRsaKey注入RSA密钥。 <br/>
 5.通过PedRSARecover使用已注入的密钥进行RSA运算。 <br/>
 6.任何时候,RSA密钥可以进行重写。 <br/>
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
  <div class="en"></div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeSM2CipherKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-">writeSM2CipherKey</a></span>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
                 byte&nbsp;srcKeyIdx,
                 <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;dstKeyType,
                 byte&nbsp;dstKeyIdx,
                 byte[]&nbsp;keyValue)</code>
<div class="block"><div class="zh"> 注入 SM2 密钥 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en"> To write SM2 cipher key to PED.</div>
</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeSM2Key-byte-com.pax.dal.entity.EPedKeyType-byte:A-">writeSM2Key</a></span>(byte&nbsp;keyIdx,
           <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;keyType,
           byte[]&nbsp;keyValue)</code>
<div class="block"><div class="zh"> 往PED中写入SM2密钥。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  
 <div class="en"> To write SM2 key to PED.</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeTIK-byte-byte-byte:A-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">writeTIK</a></span>(byte&nbsp;groupIndex,
        byte&nbsp;srcKeyIndex,
        byte[]&nbsp;keyValue,
        byte[]&nbsp;ksn,
        <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
        byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh"> 写入TIK，并可以选择使用KCV验证密钥正确性。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  
 <div class="en"> Write in TIK, and can check the key correction by using KCV.</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeTIK-byte-byte-byte-byte:A-">writeTIK</a></span>(byte&nbsp;kbpkType,
        byte&nbsp;kbpkIndex,
        byte&nbsp;groupIndex,
        byte[]&nbsp;TR31keyBlock)</code>
<div class="block"><div class="zh">注入TIK。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Injection of TIK.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setInputPinListener-com.pax.dal.IPed.IPedInputPinListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInputPinListener</h4>
<pre>void&nbsp;setInputPinListener(<a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal">IPed.IPedInputPinListener</a>&nbsp;listener)</pre>
<div class="block"><div class="zh"> 设置输入密码监听器。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型 </div> <div class="en"> set ped listener. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - <a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal"><code>IPed.IPedInputPinListener</code></a></dd>
</dl>
</li>
</ul>
<a name="writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeKey</h4>
<pre>void&nbsp;writeKey(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
              byte&nbsp;srcKeyIndex,
              <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;destKeyType,
              byte&nbsp;destkeyIndex,
              byte[]&nbsp;destKeyValue,
              <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
              byte[]&nbsp;checkBuf)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 写入一个密钥，包括TLK，TMK和TWK的写入、发散，并可以选择使用KCV验证密钥正确性
 <p>
 当写入PED_TLK时，PED首先格式化，清除所有已经下载的密钥，再写入PED_TLK。 明文写入密钥时，srcKeyIndex=0 对于外置A类密键只能写入明文的主密钥和DES密钥，且下载密文TPK，TAK时不校验
 对于外置A类PED需要调用setExMode设置exMode <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>， exMode默认为-1，表示写入的密钥密钥均为16字节，写入TPK TAK采用主密钥解密的方式 。
 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。
 </p>
 </div>
 <div class="en"> Write in one key includes write in and divergent of TLK, TMK and TWK. And use KCV to check the
 key correction.
 <p>
 When write PED_TLK,PED will format ,clear all the key has been downloaded,then write in PED_TLK. Writing the
 plaintext into a key, when scrKeyIndex=0,need to call function setExMode <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a> for external pad.
 External srcKeyType A can only write the main key and the DES key of plaintext. And it will not check when
 downloading cryptograph TPK and TAK.
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.
 </p>
 </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> <div class="zh">
            <p>
            原密钥类型
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TMK"><code>EPedKeyType.SM4_TMK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TPK"><code>EPedKeyType.SM4_TPK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TAK"><code>EPedKeyType.SM4_TAK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TDK"><code>EPedKeyType.SM4_TDK</code></a></li>
            </ul>
            </div> <div class="en">
            <p>
            Source Key Type
            </p>
            <ul>
            <li>TLK - Terminal Loading Key</li>
            <li>TMK - Terminal Master Key</li>
            <li>TPK -Transaction PIN Key</li>
            <li>TAK -Transaction Mac Key</li>
            <li>TDK -Terminal Des Key</li>
            </ul>
            </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh">
            <p>
            原密钥索引
            </p>
            <ul>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a>时, srcKeyIndex=1有效</li>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TMK"><code>EPedKeyType.SM4_TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a>/
            <a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TPK"><code>EPedKeyType.SM4_TPK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TAK"><code>EPedKeyType.SM4_TAK</code></a>/
            <a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TDK"><code>EPedKeyType.SM4_TDK</code></a>时, srcKeyIndex=[1~100]有效</li>
            </ul>
            </div> <div class="en">
            <p>
            Source Key Index
            </p>
            <ul>
            <li>when srcKeyType=TLK, srcKeyIndex=1</li>
            <li>when srcKeyType=TMK/SM4_TMK/TPK/SM4_TPK/TAK/SM4_TAK/TDK/SM4_TDK, srcKeyIndex=[1~100]</li>
            </ul>
            </div></dd>
<dd><code>destKeyType</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> <div class="zh">
            <p>
            目的密钥类型
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TMK"><code>EPedKeyType.SM4_TMK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TPK"><code>EPedKeyType.SM4_TPK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TAK"><code>EPedKeyType.SM4_TAK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TDK"><code>EPedKeyType.SM4_TDK</code></a></li>
            </ul>
            </div> <div class="en">
            <p>
            Destination Key Type
            </p>
            reference srcKeyType <a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(com.pax.dal.entity.EPedKeyType, byte, com.pax.dal.entity.EPedKeyType, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> </div></dd>
<dd><code>destkeyIndex</code> - <div class="zh">
            <p>
            目的密钥索引
            </p>
            <ul>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a>时, destkeyIndex=1有效</li>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TMK"><code>EPedKeyType.SM4_TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a>/
            <a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TPK"><code>EPedKeyType.SM4_TPK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TAK"><code>EPedKeyType.SM4_TAK</code></a>/
            <a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TDK"><code>EPedKeyType.SM4_TDK</code></a>时, destkeyIndex=[1~100]有效</li>
            </ul>
            </div> <div class="en">
            <p>
            Destination Key Index
            </p>
            reference srcKeyIndex <a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(com.pax.dal.entity.EPedKeyType, byte, com.pax.dal.entity.EPedKeyType, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> </div></dd>
<dd><code>destKeyValue</code> - <div class="zh">
            <p>
            密钥明文或密文
            </p>
            </div> <div class="en">
            <p>
            Cryptograph or Plaintext
            </p>
            </div></dd>
<dd><code>checkMode</code> - <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity"><code>ECheckMode</code></a> <div class="zh">
            <p>
            校验模式
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_NONE"><code>ECheckMode.KCV_NONE</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_0"><code>ECheckMode.KCV_ENCRYPT_0</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_FIX_DATA"><code>ECheckMode.KCV_ENCRYPT_FIX_DATA</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_MAC_INPUT_DATA"><code>ECheckMode.KCV_MAC_INPUT_DATA</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_SM4_ENCRYPT_0"><code>ECheckMode.KCV_SM4_ENCRYPT_0</code></a></li>
            </ul>
            </div> <div class="en">
            <p>
            Check Mode
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -No Check</li>
            <li>When checkMode=KCV_ENCRYPT_0 -Perform DES/TDES encryption on 8 bytes 0x00, and use first 4 bytes
            as KCV.</li>
 
            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -Perform parity check first, then perform DES/TDES encryption
            on 8 bytes―\x12\x34\x56\x78\x90\x12\x34\x56, and use first 4 bytes as KCV.</li>
 
            <li>When iCheckMode=KCV_MAC_INPUT_DATA -Send in data KcvData, use source key to perform specified mode
            of MAC on [aucDesKeyValue +KcvData], and use the 8 bytes result as KCV.</li>
            
            <li>When iCheckMode=KCV_SM4_ENCRYPT_0 -Perform TDES encryption on 16 bytes 0x00 by SM4, and use first
            4 bytes as KCV.</li> </ul> </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
            <p>
            校验数据缓冲区
            </p>
            <ul>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_NONE"><code>ECheckMode.KCV_NONE</code></a>时 checkBuf的值无效,系统认为不验证KCV,可以为null</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_0"><code>ECheckMode.KCV_ENCRYPT_0</code></a>,4字节的kcv</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_FIX_DATA"><code>ECheckMode.KCV_ENCRYPT_FIX_DATA</code></a>,4字节的kcv</li>
            <li>当iCheckMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_MAC_INPUT_DATA"><code>ECheckMode.KCV_MAC_INPUT_DATA</code></a>时按以下规则提供checkBuf:
            <p>
            checkBuf[0]= KcvData长度(KcvDataLen)
            </p>
            <p>
            checkBuf+1: KcvData
            </p>
            <p>
            checkBuf[1+KcvDataLen]=MAC运算模式,参考<a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-"><code>getMac(byte, byte[], EPedMacMode)</code></a>中的mode参数
            </p>
            <p>
            checkBuf[2+KcvDataLen]=KCV长度
            </p>
            <p>
            checkBuf[3+KcvDataLen]是KCV的值
            </p>
            </li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_SM4_ENCRYPT_0"><code>ECheckMode.KCV_SM4_ENCRYPT_0</code></a>,4字节的kcv</li>
            </ul>
            </div> <div class="en">
            <p>
            Check Data Buffer
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -PED wont check KCV, this data is no meaning.</li>
            <li>When checkMode=KCV_ENCRYPT_0 -4 bytes key check value</li>
            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -4 bytes key check value</li>
            <li>When iCheckMode=KCV_MAC_INPUT_DATA - checkBuf as follows: checkBuf[0] = length of KcvData
            checkBuf+1: kcvData checkBuf[1+kcvDataLen]: MAC computation mode
            <a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-"><code>getMac(byte, byte[], EPedMacMode)</code></a> checkBuf[2+kcvDataLen]:KCV length
            checkBuf[3+kcvDataLen]:KCV Value</li>
            <li>When checkMode=KCV_SM4_ENCRYPT_0 -4 bytes key check value</li>
            </ul>
            </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeTIK-byte-byte-byte:A-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeTIK</h4>
<pre>void&nbsp;writeTIK(byte&nbsp;groupIndex,
              byte&nbsp;srcKeyIndex,
              byte[]&nbsp;keyValue,
              byte[]&nbsp;ksn,
              <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
              byte[]&nbsp;checkBuf)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 写入TIK，并可以选择使用KCV验证密钥正确性。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> 
 <div class="en"> Write in TIK, and can check the key correction by using KCV. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~40] DUKPT密钥组索引号 </div> <div class="en"> [1~40]DUKPT key group id </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh"> [0~1] 用于分散的密钥的密钥索引 </div> <div class="en"> [0~1] The key index for diversified key.
            </div></dd>
<dd><code>keyValue</code> - <div class="zh"> 指向TIK的密文/明文 </div> <div class="en"> Point to TIK cipher text. </div></dd>
<dd><code>ksn</code> - <div class="zh"> 指向初始化KSN </div> <div class="en"> Point to KSN initialization. </div></dd>
<dd><code>checkMode</code> - <div class="zh"> <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity"><code>ECheckMode</code></a> </div> <div class="en"> reference <a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(com.pax.dal.entity.EPedKeyType, byte, com.pax.dal.entity.EPedKeyType, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> checkMode
            </div></dd>
<dd><code>checkBuf</code> - <div class="zh"> 参考<a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(com.pax.dal.entity.EPedKeyType, byte, com.pax.dal.entity.EPedKeyType, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a>关于checkBuf说明 </div> <div class="en"> reference
            <a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(com.pax.dal.entity.EPedKeyType, byte, com.pax.dal.entity.EPedKeyType, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> the information about checkBuf </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getPinBlock-byte-java.lang.String-byte:A-com.pax.dal.entity.EPinBlockMode-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinBlock</h4>
<pre>byte[]&nbsp;getPinBlock(byte&nbsp;keyIndex,
                   java.lang.String&nbsp;expPinLen,
                   byte[]&nbsp;dataIn,
                   <a href="../../../com/pax/dal/entity/EPinBlockMode.html" title="enum in com.pax.dal.entity">EPinBlockMode</a>&nbsp;mode,
                   int&nbsp;timeoutMs)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> 
 <div class="en"> Scan the keyboard PIN entry and output the PIN BLOCK encrypted data block in a specific time.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TPK的索引 </div> <div class="en"> [1~100] TPK index </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合
            可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"0,4,6"。
            若枚举0长度则示意可以不输任何数字而直接按确认键返回。 </div> <div class="en"> Enumeration of 0-12.The enter password string with
            legal length. Application enumerates of all possible lengths of PIN. ","will be used to separate each
            number of length. If no PIN,or 4 or 6 digits of PIN are allowed, the string will be set as "0,4,6". 0
            means that no PIN is required, and pressing "Enter" will return. </div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>当mode=<a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_0"><code>EPinBlockMode.ISO9564_0</code></a>时, DataIn指向卡号移位后生成的16位主帐号。</li>
            <li>当mode=<a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_1"><code>EPinBlockMode.ISO9564_1</code></a>时,
            输入参数为参与PinBlock的格式化,8字节数据(根据ISO9564的规范,该数据可以是随机数、交易流水号或时间戳等)。</li>
            <li>当mode=<a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_3"><code>EPinBlockMode.ISO9564_3</code></a>时,
            DataIn指向卡号移位后生成的16位主帐号,DataIn+16指向参与PinBlock格式化的8字节数据(根据ISO9564的规范
            ,该数据可以是随机数、交易流水号或时间戳等,但是每个字节的高4位和低4位,均必须在0xA~0xF之间,所以当Mode为0x02时,应用需要将该8字节的数据做此检查,如果不满足要求将返回错误)</li>
            <li>当mode=<a href="../../../com/pax/dal/entity/EPinBlockMode.html#HKEPS"><code>EPinBlockMode.HKEPS</code></a>时, 为交易流水号ISN [6 Bytes,ASCII码]</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When mode=ISO9564_0, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=ISO9564_1, Input parameters for participation in PinBlock formatting, 8 bytes data.
            (refer to ISO9564 standard, this data can be Random number, the transaction serial number or time
            stamp, etc.)</li>
            <li>When mode=ISO9564_3, DataIn is the 16 bytes primary account number after shifting. DataIn+16 point
            to the 8 bytes data which has participated in PinBlock formatting. (refer to ISO9564 standard, this
            data can be Random number, the transaction serial number or time stamp,etc. But the higher 4 bits and
            lower 4 bits of each byte should between 0xA~0xF. So, if the Mode=0x02, the bottom level will do this
            check for the 8 bytes data, it will return an error if does not meet the requirement.).</li>
            <li>When mode=HKEPS, dataIn is ISN [6 Bytes, ASCII code]</li>
            </ul>
            </div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EPinBlockMode.html" title="enum in com.pax.dal.entity"><code>EPinBlockMode</code></a> <div class="zh"> PIN BLOCK的格式
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_0"><code>EPinBlockMode.ISO9564_0</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_1"><code>EPinBlockMode.ISO9564_1</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_3"><code>EPinBlockMode.ISO9564_3</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPinBlockMode.html#HKEPS"><code>EPinBlockMode.HKEPS</code></a></li>
            </ul>
            </div> <div class="en"> PIN BLOCK Format
            <ul>
            <li>ISO9564_0</li>
            <li>ISO9564_1</li>
            <li>ISO9564_3</li>
            <li>HKEPS -EPS PINBLOCK Format</li>
            </ul>
            </div></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            <p>
            0:表示没有超时时间，PED不做超时控制
            </p>
            </div> <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            <p>
            0: No timeout time, not doing timeout control for PED.
            </p>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回pinBlock，如果bypass 返回NULL </div> <div class="en"> Return pinBlock byte array, if
         bypass,return NULL. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMac</h4>
<pre>byte[]&nbsp;getMac(byte&nbsp;keyIndex,
              byte[]&nbsp;dataIn,
              <a href="../../../com/pax/dal/entity/EPedMacMode.html" title="enum in com.pax.dal.entity">EPedMacMode</a>&nbsp;mode)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 用KeyIdx指定的MAC密钥对DataIn进行mode指定的算法进行MAC运算，将8字节的MAC结果返回 外置A类PED需要除了设置PinBlockMode外还需要调用setExMode
 <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>设置exMode exMode默认为-1,表示TAK长度为16字节,如果TAK长度为16字节则可以使用该默认值 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div>
 <div class="en"> To use KeyIdx MAC key calculate the DataIn following the specified Mode algorithm, return the 8 bytes MAC result. 
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TAK的索引 </div> <div class="en"> [1~100] TAK index </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 长度<=1024 MAC运算的数据包的长度[输入],长度 不为8字节整除,则自动补"\x00" </div> <div class="en"> The data
            length less than or equal to 1024 bytes If the length not multiple by 8, 0x00 will be padding
            automatically. </div></dd>
<dd><code>mode</code> - <div class="zh">
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPedMacMode.html#MODE_00"><code>EPedMacMode.MODE_00</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedMacMode.html#MODE_01"><code>EPedMacMode.MODE_01</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedMacMode.html#MODE_02"><code>EPedMacMode.MODE_02</code></a></li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>MODE_00 -Doing DES/TDES encryption for BLOCK1 by usingMAC key. Doing DES/TDES encryption again by
            using TAK when and after bitwise XOR the previous encryption result with BLOCK2. Processing in turn to
            get the 8 bytes encryption result.</li>
            <li>MODE_01 -Doing bitwise XOR for BLOCK1 and BLOCK2; Do bitwise XOR again by using previous XOR
            result with BLOCK3. Do it in turn and finally get the 8 bytes XOR result. Using TAK to process
            DES/TDES encryption for the result</li>
            <li>MODE_02 -ANSIX9.19 standard, Do DES encryption for BLOCK1 by using TAK (only take the first 8
            bytes of key). The encryption result wills bitwise XOR with BLOCK2,and then doing DES encryption by
            using TAK again. Do it in turn and get the 8 bytes encryption result. Using DES/TDES to encrypt in the
            last time.</li>
            </ul>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回MAC结果 </div> <div class="en"> return the MAC data,8 bytes array </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="calcDes-byte-byte:A-com.pax.dal.entity.EPedDesMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcDes</h4>
<pre>byte[]&nbsp;calcDes(byte&nbsp;keyIndex,
               byte[]&nbsp;datain,
               <a href="../../../com/pax/dal/entity/EPedDesMode.html" title="enum in com.pax.dal.entity">EPedDesMode</a>&nbsp;mode)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用TDK对DataInLen长度的数据进行DES/TDES运算，使用DES或TDES根据密钥的长度而定。
 外置A类PED需要调用setExMode <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>设置exMode exMode默认为-1,表示TDK长度为16字节,如果TDK长度为16字节则可以使用该默认值。
 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> 
 <div class="en"> To use TDK encrypt or decrypt data by DES/TDES. Using DES or TDES depends on the key length.
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TDK的索引 </div> <div class="en"> [1~100] TDK index </div></dd>
<dd><code>datain</code> - <div class="zh"> 待运算的数据,数据长度 <=8k字节, 必须能被8字节整除 </div> <div class="en"> the data to be calculated.The
            data length <=8k bytes, must be divisible by 8 bytes </div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EPedDesMode.html" title="enum in com.pax.dal.entity"><code>EPedDesMode</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回运算后的数据 </div> <div class="en"> the data after calculation. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="calcDes-byte-byte:A-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcDes</h4>
<pre>byte[]&nbsp;calcDes(byte&nbsp;keyIndex,
               byte[]&nbsp;initvector,
               byte[]&nbsp;dataIn,
               byte&nbsp;mode)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用TDK对DataInLen长度的数据进行DES/TDES运算，使用DES或TDES根据密钥的长度而定。
 外置A类PED需要调用setExMode <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>设置exMode exMode默认为-1,表示TDK长度为16字节,如果TDK长度为16字节则可以使用该默认值 。
 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div> 
 <div class="en"> To use TDK encrypt or decrypt data by DES/TDES. Using DES or TDES depends on the key length.
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TDK的索引 </div> <div class="en"> [1~100] TDK index </div></dd>
<dd><code>initvector</code> - <div class="zh">使用CBC 模式进行加解密运算时需要用到，若InitVector为NULL，则默认为8字节的全0x00。 使用ECB加解密时不需要，可以为NULL。 </div> <div
            class="en"> ECB mode: init vector is null .CBC mode: init vector, 8 bytes. </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 待运算的数据,数据长度 <=8k字节, 必须能被8字节整除 </div> <div class="en"> the data to be calculated.The
            data length <=8k bytes, must be divisible by 8 bytes </div></dd>
<dd><code>mode</code> - <div class="zh">
            <ul>
            <li>0: ECB模式解密</li>
            <li>1: ECB模式加密</li>
            <li>2: CBC模式解密</li>
            <li>3: CBC模式加密</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>0: DECRYPT#ECB</li>
            <li>1: ENCRYPT#ECB</li>
            <li>2: DECRYPT#CBC</li>
            <li>3: ENCRYPT#CBC</li>
            </ul>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回运算后的数据 </div> <div class="en"> the data after calculation. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.04.00</dd>
</dl>
</li>
</ul>
<a name="getDUKPTPin-byte-java.lang.String-byte:A-com.pax.dal.entity.EDUKPTPinMode-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDUKPTPin</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;getDUKPTPin(byte&nbsp;groupIndex,
                        java.lang.String&nbsp;expPinLen,
                        byte[]&nbsp;dataIn,
                        <a href="../../../com/pax/dal/entity/EDUKPTPinMode.html" title="enum in com.pax.dal.entity">EDUKPTPinMode</a>&nbsp;mode,
                        int&nbsp;timeoutMs)
                 throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 在PED上输入PIN，并使DUKPT的PIN密钥计算PINBlock </div> <div class="en"> PINBlock Input the PIN on PED,and use
 the PINkey of DUKPT to calculate the PINBlock. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~40] DUKPT密钥组索引号 </div> <div class="en"> [1~40] DUKPT key group id </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合
            可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"0,4,6"。
            若枚举0长度则示意可以不输任何数字而直接按确认键返回。但对于外置C类密键，最小输入长度为4 </div> <div class="en"> Enumeration of 0-12.The enter password string with
            legal length. Application enumerates of all possible lengths of PIN. ","will be used to separate each
            number of length. If no PIN,or 4 or 6 digits of PIN are allowed, the string will be set as "0,4,6". 0
            means that no PIN is required, and pressing "Enter" will return. For type-c, the legal Enumeration is 4-12</div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>当mode=<a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_0"><code>EPinBlockMode.ISO9564_0</code></a>时, DataIn指向卡号移位后生成的16位主帐号。</li>
            <li>当mode=<a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_1"><code>EPinBlockMode.ISO9564_1</code></a>时,
            输入参数为参与PinBlock的格式化,8字节数据(根据ISO9564的规范,该数据可以是随机数、交易流水号或时间戳等)。</li>
            <li>当mode=<a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_3"><code>EPinBlockMode.ISO9564_3</code></a>时,
            DataIn指向卡号移位后生成的16位主帐号,DataIn+16指向参与PinBlock格式化的8字节数据(根据ISO9564的规范
            ,该数据可以是随机数、交易流水号或时间戳等,但是每个字节的高4位和低4位,均必须在0xA~0xF之间,所以当Mode为0x02时,应用需要将该8字节的数据做此检查,如果不满足要求将返回错误)</li>
            <li>当mode=<a href="../../../com/pax/dal/entity/EPinBlockMode.html#HKEPS"><code>EPinBlockMode.HKEPS</code></a>时, 为交易流水号ISN [6 Bytes,ASCII码]</li>
            <li>对于type-c密码键盘,dataIn指向卡号移位后生成的16位主帐号</li>
            
            </ul>
            </div> <div class="en">
            <ul>
            <li>When mode=ISO9564_0, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=ISO9564_1, Input parameters for participation in PinBlock formatting, 8 bytes data.
            (refer to ISO9564 standard, this data can be Random number, the transaction serial number or time
            stamp, etc.)</li>
            <li>When mode=ISO9564_3, DataIn is the 16 bytes primary account number after shifting. DataIn+16 point
            to the 8 bytes data which has participated in PinBlock formatting. (refer to ISO9564 standard, this
            data can be Random number, the transaction serial number or time stamp,etc. But the higher 4 bits and
            lower 4 bits of each byte should between 0xA~0xF. So, if the Mode=0x02, the bottom level will do this
            check for the 8 bytes data, it will return an error if does not meet the requirement.).</li>
            <li>When mode=HKEPS, dataIn is ISN [6 Bytes, ASCII code]</li>
           <li>For type-c, dataIn is the 16 bytes primary account number after shifting.</li>
            </ul>
            </div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EDUKPTPinMode.html" title="enum in com.pax.dal.entity"><code>EDUKPTPinMode</code></a>
            <li>Not used for type-c</li></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            <p>
            0:表示没有超时时间，PED不做超时控制
            </p>
            </div> <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            <p>
            0: No timeout time, not doing timeout control for PED.
            </p>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>DUKPTResult <a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>Exceptions</code></dd>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getDUPKTMac-byte-byte:A-com.pax.dal.entity.EDUKPTMacMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDUPKTMac</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;getDUPKTMac(byte&nbsp;groupIndex,
                        byte[]&nbsp;dataIn,
                        <a href="../../../com/pax/dal/entity/EDUKPTMacMode.html" title="enum in com.pax.dal.entity">EDUKPTMacMode</a>&nbsp;mode)
                 throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥计算MAC。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> 
 <div class="en"> Use MAC Key to calculate MAC. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~40] DUKPT密钥组索引号 </div> <div class="en"> [1~40] DUKPT key group index id </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 指向需要计算MAC的数据内容, 数据的长度<=1024，长度不为8字节整除，则 自动补“\x00" </div> <div class="en"> The data
            length less than or equal to 1024 bytes. If the length not multiple by 8, 0x00 will be padding
            automatically. </div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EDUKPTMacMode.html" title="enum in com.pax.dal.entity"><code>EDUKPTMacMode</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getKCV-com.pax.dal.entity.EPedKeyType-byte-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKCV</h4>
<pre>byte[]&nbsp;getKCV(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;type,
              byte&nbsp;keyIndex,
              byte&nbsp;checkMode,
              byte[]&nbsp;checkBuf)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 获取密钥的KCV值，以供对话双方进行密钥验证，用指定的密钥及算法对一段数据进行加密，并返回部分数据密文。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型 。</div> 
 <div class="en"> Getting value of KCV for key verification of to side, using specific key and algorithm to encrypt data, and then return part of cryptograph.
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a></dd>
<dd><code>keyIndex</code> - <div class="zh"> 密钥的索引号
            <ul>
            <li>如果type=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a>, keyIndex只能为1</li>
            <li>如果type=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a>/
            <a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a> , 取值[1~100]</li>
            <li>如果type=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TIK"><code>EPedKeyType.TIK</code></a>,取值[1~40]</li>
            </ul>
            </div> <div class="en"> key index
            <ul>
            <li>If type=TLK, keyIndex can only be 1.</li>
            <li>If type=TMK/TPK/TAK/TDK , can select from [1~100].</li>
            <li>If type=TIK,can select from [1~40].</li>
            </ul>
            </div></dd>
<dd><code>checkMode</code> - <div class="zh">
            <ul>
            <li>checkMode=0x00时， 使用该密钥对一段数据进行DES/TDES加密运算，生成的密文的前4个字节即为KCV</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When checkMode=0x00, use this key pair to do DES/TDES entryption for a block of data, the first 4
            bytes of the generated ciphertext is KCV.</li>
            </ul>
            </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
            <ul>
            <li>当checkMode =0x00时, 指向需运算的数据,进行运算的数据必须是8的倍数</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When checkMode=0x00, The data needing to compute must be a multiple of 8.</li>
            </ul>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">
         <ul>
         <li>当KeyType为PED_TIK时，返回的KCV值为pedWriteTIK接口写入时的KCV值。如果pedWriteTIK注入密钥时不带KCV校验值，将无法返回KCV校验值。</li>
         <li>其他返回4个字节长度的KCV</li>
         </ul>
         </div> <div class="en">
         <ul>
         <li>When KeyType is PED_TIK, the return value KCV is the KCV value that wrote in pedWriteTIK interface.
         If pedWriteTIK imports to the key without KCV check value, then the KCV check value won’t be able to
         return.</li>
         <li>Return KCV of 4 bytes in otherwise.</li>
         </ul>
         </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeKeyVar-com.pax.dal.entity.EPedKeyType-byte-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeKeyVar</h4>
<pre>void&nbsp;writeKeyVar(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;type,
                 byte&nbsp;srcKeyIndex,
                 byte&nbsp;destKeyIndex,
                 byte[]&nbsp;xorData,
                 <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
                 byte[]&nbsp;checkBuf)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用指定密钥类型的密钥索引所在的密钥明文与一串数据进行异或，得到密钥写入到同一类型密钥区的指定索引位置 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> 
 <div class="en"> Use the plaintext key specified by the source key index and the key type to do exclusive-or with the input data, and write the
 result to the location specified by the destination key index with the same key type. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - <div class="zh">
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a></li>
            </ul>
            </div> <div class="en"> <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> Reference <a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(com.pax.dal.entity.EPedKeyType, byte, com.pax.dal.entity.EPedKeyType, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> srcKeyType,but not
            applicative for TIK/TLK. </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh"> 源密钥索引号 </div> <div class="en"> The source key index </div></dd>
<dd><code>destKeyIndex</code> - <div class="zh"> 目的密钥索引号 </div> <div class="en"> The destination key index </div></dd>
<dd><code>xorData</code> - <div class="zh"> 需要异或的字符串，长度与密钥长度一致 </div> <div class="en"> The input data to be used in exclusive-or,
            length of it is same as the key. </div></dd>
<dd><code>checkMode</code> - <div class="zh"> <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity"><code>ECheckMode</code></a> 保留扩展，应用程序可以设置为空 </div> <div class="en"> <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity"><code>ECheckMode</code></a>
            reserved for extension ,application can set it as null </div></dd>
<dd><code>checkBuf</code> - <div class="zh"> 保留扩展，应用程序可以设置为空 </div> <div class="en"> reserved for extension ,application can set
            it as null </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersion</h4>
<pre>java.lang.String&nbsp;getVersion()
                     throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 获取PED的版本。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> 
 <div class="en"> Get the PED version information. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> PED 版本 </div> <div class="en"> PED Version </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="erase--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>erase</h4>
<pre>boolean&nbsp;erase()
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 清除PED里的所有密钥信息 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> 
 <div class="en"> Clear all key information of PED. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">
         <ul>
         <li>true-擦除成功</li>
         <li>false-擦除失败</li>
         </ul>
         </div> <div class="en">
         <ul>
         <li>true -- Clear success</li>
         <li>false -- Clear failure</li>
         </ul>
         </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setIntervalTime-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIntervalTime</h4>
<pre>void&nbsp;setIntervalTime(int&nbsp;tpkIntervalTimeMs,
                     int&nbsp;takIntervalTimeMs)
              throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设置两次计算PINBlock或者计算MAC之间最小间隔时间
 PINBLOCK间隔时间的计算方式：默认为120秒那只能调用4次，即tpkIntervalTimeMs默认值为30秒，调用该函数重新设置后，限制为4*
 tpkIntervalTimeMs时间内只能调用4次。比如传入的tpkIntervalTimeMs为20000(ms)，则80秒内只能调用4次。
 MAC间隔时间的计算方式：限制为两次计算MAC的间隔时间必须大于等于TAKIntervalTimeMs；比如传入的TAKIntervalTimeMs为20000(ms)，则20秒内只能调用1次。
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> 
 <div class="en"> Set the minimum time interval of calculating the PINBlock or MAC twice. PINBLOCK interval is
 calculated as below: When the default time is 120 seconds, it can only be called 4 times, that is, the default
 value of tpkIntervalTimeMs is 30 seconds, after resetting by calling this function, it is limited to call 4 times
 during the time of 4* tpkIntervalTimeMs. For example, if the incoming tpkIntervalTimeMs value is 20000(ms), it
 can be called 4 times within 80 seconds.MAC interval calculation: limit to two calculations, MAC interval time
 must be greater than or equal to TAKIntervalTimeMs; for example, the incoming TAKIntervalTimeMs is 20000 (MS),
 then 20 seconds can only call 1 times. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tpkIntervalTimeMs</code> - <div class="zh">
            <ul>
            <li>tpkIntervalTimeMs=0:使用默认值(30000ms)</li>
            <li>tpkIntervalTimeMs>0:间隔时间(单位:毫秒)</li>
            <li>tpkIntervalTimeMs=0xffffffff:当前设置不被改变</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>tpkIntervalTimeMs=0:Use the default value(30000 ms)</li>
            <li>tpkIntervalTimeMs=0xffffffff:No change of current setting.</li>
            </ul>
            </div></dd>
<dd><code>takIntervalTimeMs</code> - <div class="zh">
            <ul>
            <li>tpkIntervalTimeMs=0:使用默认值(0ms)</li>
            <li>tpkIntervalTimeMs>0:间隔时间(单位:毫秒)</li>
            <li>tpkIntervalTimeMs=0xffffffff:当前设置不被改变</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>tpkIntervalTimeMs=0:Use the default value(0 uint:ms)</li>
            <li>tpkIntervalTimeMs大于0:Interval time(uint:ms)</li>
            <li>tpkIntervalTimeMs=0xffffffff:No change of current setting.</li>
            </ul>
            </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setFunctionKey-com.pax.dal.entity.EFuncKeyMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFunctionKey</h4>
<pre>void&nbsp;setFunctionKey(<a href="../../../com/pax/dal/entity/EFuncKeyMode.html" title="enum in com.pax.dal.entity">EFuncKeyMode</a>&nbsp;mode)
             throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设定某些功能键的功能。 PED上电后,CLEAR键的默认功能为,持卡人输入PIN时,按CLEAR键,清除已输入的PIN。 可以通过该函数来设置CLEAR键的不同功能。
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> 
 <div class="en"> Setting some functions of function key. When PED is power on, the default function of CLEAR button is
 when card holder is typing in PIN, pressing the CLEAR button can clear input PIN. It is allowed to set different
 functions for CLEAR button by using this function. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EFuncKeyMode.html" title="enum in com.pax.dal.entity"><code>EFuncKeyMode</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeRSAKey-byte-com.pax.dal.entity.RSAKeyInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeRSAKey</h4>
<pre>void&nbsp;writeRSAKey(byte&nbsp;rsaKeyIndex,
                 <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity">RSAKeyInfo</a>&nbsp;info)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 1.注入RSA密钥到PED <br/>
 2.PED最多支持10组RSA密钥,目前最长只支持256字节长的RSA密钥。 <br/>
 3.存储的RSA密钥是公钥还是私钥由密钥的指数长度决定,当密钥指数和模等长时,是私钥。 <br/>
 4.PED通过PedWriteRsaKey注入RSA密钥。 <br/>
 5.通过PedRSARecover使用已注入的密钥进行RSA运算。 <br/>
 6.任何时候,RSA密钥可以进行重写。 <br/>
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 </div> <div class="en">
 <p>
 1. Import RSA to the PED
 </p>
 <p>
 2. PED can support 10 sets of RSA Key at most, current can supports a maximum length of 256 bytes RSA key.
 </p>
 <p>
 3. Whether the stored RSA is the public key or private key will be determined by the exponent length. If the
 length of key exponent is equal to modulus, it is a private key.
 </p>
 <p>
 4. PED uses PedWriteRsaKey to Import RSA key.
 </p>
 <p>
 5. Use the imported key to do the RSA operation by calling PedRsaRecover.
 </p>
 <p>
 6. RSA key can be rewritten at any time
 </p>
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.
 </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rsaKeyIndex</code> - <div class="zh"> 密钥索引[1~10] </div> <div class="en"> Key Index [1~10] </div></dd>
<dd><code>info</code> - <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity"><code>RSAKeyInfo</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="RSARecover-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RSARecover</h4>
<pre><a href="../../../com/pax/dal/entity/RSARecoverInfo.html" title="class in com.pax.dal.entity">RSARecoverInfo</a>&nbsp;RSARecover(byte&nbsp;rsaKeyIndex,
                          byte[]&nbsp;dataIn)
                   throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 用存储在PED的RSA密钥进行数据RSA数据运算。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div>
  <div class="en"> Using the RSA key stored in PED to do the RSA data operation. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rsaKeyIndex</code> - <div class="zh"> 密钥索引[1~10] </div> <div class="en"> Key Index [1~10] </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 被加解密的数据，和模等长 </div> <div class="en"> The encrypted/decrypted data, which has the same
            length as the modulus. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/RSARecoverInfo.html" title="class in com.pax.dal.entity"><code>RSARecoverInfo</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="calcDUKPTDes-byte-byte-byte:A-byte:A-com.pax.dal.entity.EDUKPTDesMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcDUKPTDes</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;calcDUKPTDes(byte&nbsp;groupIndex,
                         byte&nbsp;keyVarType,
                         byte[]&nbsp;iv,
                         byte[]&nbsp;dataIn,
                         <a href="../../../com/pax/dal/entity/EDUKPTDesMode.html" title="enum in com.pax.dal.entity">EDUKPTDesMode</a>&nbsp;mode)
                  throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥或DES密钥，对输入缓存内数据进行加密或解密。 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> 
 <div class="en"> Use MAC key or DES key of DUKPT to encrypt or decrypt the data in the input buffer. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~40] DUKPT密钥组索引号 </div> <div class="en"> [1~40] DUKPT group ID </div></dd>
<dd><code>keyVarType</code> - <div class="zh">
            <ul>
            <li>0x00，用请求和应答MAC密钥</li>
            <li>0x01，用DUKPT DES密钥运算</li>
            <li>0x02，用DUKPT PIN密钥做ECB加密（不支持解密）</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>0x00,Use request and response MAC key.</li>
            <li>0x01,Use DUKPT DES key operation.</li>
            <li>0x02,Use DUKPT PIN key to do the ECB encryption. (It can not do decryption.)</li>
            </ul>
            </div></dd>
<dd><code>iv</code> - <div class="zh"> 8字节初始向量，CBC加解密时需要，如果传入NULL，将默认用“\x00\x00\x00\x00\x00\x00\x00\x00”作为初始向量 </div> <div
            class="en"> 8 bytes initialization vector, used for CBC encryption or decryption. If set it to NULL,
            it will use “\x00\x00\x00\x00\x00\x00\x00\x00” as the initialization vector by default. </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 指向需要进行运算的数据, 数据长度<=8192，8整除 </div> <div class="en"> Point to the data which need to
            be computed.Data length less than or equal to 8192, it is divisible by 8. </div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EDUKPTDesMode.html" title="enum in com.pax.dal.entity"><code>EDUKPTDesMode</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getDUKPTKsn-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDUKPTKsn</h4>
<pre>byte[]&nbsp;getDUKPTKsn(byte&nbsp;groupIndex)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 读取下一次计算的KSN。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> 
 <div class="en"> KSN Reading the KSN which will be computed at next time. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~40] DUKPT密钥组索引号 </div> <div class="en"> [1~40] DUKPT group index ID </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 下次的KSN </div> <div class="en"> KSN for next time. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="incDUKPTKsn-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incDUKPTKsn</h4>
<pre>void&nbsp;incDUKPTKsn(byte&nbsp;groupIndex)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> KSN加1,每个KSN对应的DUKPT密钥，最多只能使用256次。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div class="en"> Add 1 to KSN，each KSN corresponds to
 the DUKPT key, which can be used at most 256 times. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~40] DUKPT密钥组索引号 </div> <div class="en"> [1~40] DUKPT group ID </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="verifyPlainPin-byte-java.lang.String-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyPlainPin</h4>
<pre>byte[]&nbsp;verifyPlainPin(byte&nbsp;slot,
                      java.lang.String&nbsp;expPinLen,
                      byte&nbsp;mode,
                      int&nbsp;timeoutMs)
               throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 实现脱机明文PIN校验功能。获取明文PIN，然后按照应用提供的卡片命令与卡片通道号，将明文PIN BLOCK直接发送给卡片(PIN BLOCK格式在用法部分描述)。
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> 
 <div class="en"> Achieve the function of verifying plaintext offline PIN. Get plaintext PIN and then Send plaintext
 PIN BLOCK to card according to card command and card slot number (PIN BLOCK format will be provided in operation
 part.). <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - <div class="zh"> 卡片所在的卡座号 </div> <div class="en"> card slot number </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合 可输入的合法密码长度字符串，应用程序把允许的密 码长度全部枚举出来，并且用","号隔开每个长度， 如允许输入4、6位密码并且允许无密码直接按确认，
            则该字符串应该设置为"0,4,6" </div> <div class="en"> Enumeration of 0-12.The enter password string with legal
            length. Application enumerates all possible lengths of PIN. ‘,’ will be used to separate each number
            of length. If 4 or 6 digits of PIN are allowed and it is also allowed to press ‘Enter’ without PIN
            .Then this string should be set as ‘0, 4, and 6’. </div></dd>
<dd><code>mode</code> - <div class="zh"> 0x00 IC卡命令模式，现支持符合EMV2000的IC卡命令 </div> <div class="en"> 0x00 IC Card Command
            Mode,Currently support EMV2000. </div></dd>
<dd><code>timeoutMs</code> - <div class="zh"> 输入PIN的超时时间，单位：毫秒 最大值为300000ms </div> <div class="en"> The timeout of PIN entry
            [ms],Maximum is 300000ms. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 卡片响应的状态码 (2字节：SW1+SW2) </div> <div class="en"> The status code of card response (2
         bytes: SW1+SW2). </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="verifyCipherPin-byte-java.lang.String-com.pax.dal.entity.RSAPinKey-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyCipherPin</h4>
<pre>byte[]&nbsp;verifyCipherPin(byte&nbsp;slot,
                       java.lang.String&nbsp;expPinLen,
                       <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity">RSAPinKey</a>&nbsp;rsaPinKey,
                       byte&nbsp;mode,
                       int&nbsp;timeout)
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 实现脱机密文PIN校验功能。先获取明文PIN，再用应用提供的RsaPinKey对明文PIN按照EMV规范进行加密，然后用应用
 提供的卡片命令与卡片通道号，将密文PIN直接发送给卡片 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en"> Verify enciphered PIN offline. Get plain text PIN and then use RsaPinKey provided by application
 to encrypt plaintext PIN according to EMV standard. Send enciphered PIN to card according to card command and
 card channel number provided by application. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - <div class="zh"> 卡片所在的卡座号 </div> <div class="en"> card slot number </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合 可输入的合法密码长度字符串，应用程序把允许的密 码长度全部枚举出来，并且用","号隔开每个长度， 如允许输入4、6位密码并且允许无密码直接按确认，
            则该字符串应该设置为"0,4,6" </div> <div class="en"> Enumeration of 0-12.The enter password string with legal
            length. Application enumerates all possible lengths of PIN. ‘,’ will be used to separate each number
            of length. If 4 or 6 digits of PIN are allowed and it is also allowed to press ‘Enter’ without PIN
            .Then this string should be set as ‘0, 4, and 6’. </div></dd>
<dd><code>rsaPinKey</code> - <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity"><code>RSAPinKey</code></a></dd>
<dd><code>mode</code> - <div class="zh"> 0x00 IC卡命令模式，目前支持EMV2000。 </div> <div class="en"> 0x00 IC Card Command Mode,Currently
            support EMV2000. </div></dd>
<dd><code>timeout</code> - <div class="zh"> 输入PIN的超时时间，单位：毫秒 最大值为300000ms </div> <div class="en"> The timeout of PIN input
            [unit:ms].Maximum is 300000Ms. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 卡片响应的状态码 (2字节：SW1+SW2) </div> <div class="en"> The card response code (2 bytes:SW1 and
         SW2) </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setExMode-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExMode</h4>
<pre>void&nbsp;setExMode(int&nbsp;exMode)</pre>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘，下载密钥，计算pinblock,计算mac,des加解密使用 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div> <div class="en"> This interface only be used
 for external PIN pad Use for downloading main key and work key. <a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exMode</code> - <div class="zh">
            <ul>
            调用writeKey时，如果下载的密钥为主密钥或DES密钥，取值如下：
            <li>-1,默认值，3倍DES密钥 16字节</li>
            <li>0x01 单DES密钥 8字节</li>
            <li>0x03 3倍DES密钥 16字节</li>
            <li>0x07 3倍DES密钥 24字节</li>
 
            </ul>
 
            <ul>
            调用writeKey时，如果下载的密钥为工作密钥(TPK,TAK)则指示最终工作密钥明文的生成运算方式:
            <li>-1,默认值，主密钥和工作密钥均为3DES/16字节密钥，采用主密钥对工作密钥解密的方式</li>
            <li>0x01-- DES加密 0x81-- DES解密 MKeyID 与 WKeyID 均为单DES/ 8字节密钥</li>
            <li>0x03-- 3DES加密0x31-- 3DES加密 0x83-- 3DES解密 0xb1-- 3DES解密 0x03-- 3DES加密
            MKeyID为3DES/16字节密钥，WKeyID为单DES/8字节密钥</li>
            <li>0x07-- 3DES加密 0x87-- 3DES解密 MKeyID为3DES/24字节密钥，WKeyID为单DES/8字节密钥</li>
            <li>0x33-- 3DES加密 0xb3-- 3DES解密 MKeyID与WKeyID均为3DES/16字节密钥</li>
            <li>0x71-- 3DES加密 0xf1-- 3DES解密 MKeyID为3DES/24字节密钥, WKeyID为单DES/8字节密钥</li>
            <li>0x73-- 3DES加密 0xf3-- 3DES解密 MKeyID为3DES/24字节密钥, WKeyID为3DES－16字节密钥</li>
            <li>0x77-- 3DES加密 0xf7-- 3DES解密 MKeyID与WKeyID均为3DES/24字节密钥</li>
            </ul>
 
            <ul>
            调用getPinBlock的时候: 如果mode = EPinBlockMode.ISO9564_0模式
            <li>-1: 默认值，TPK为16字节密钥</li>
            <li>0x01：8字节单DES,按照ANSI X9.8标准，PIN输入时当最小长度不为0时,允许按"确认"退出</li>
            <li>0x31:16字节密钥DES按照ANSI X9.8标准，PIN输入时当最小长度不为0时,允许按"确认"退出</li>
            <li>0x71:24字节密钥DES按照ANSI X9.8标准，PIN输入时当最小长度不为0时,允许按"确认"退出</li>
            <li>0x04 ：按照ANSI X9.8标准,采用3DES加密方法</li>
 
            如果mode = EPinBlockMode.HKEPS模式(X3.92)
            <li>-1: 默认值，TPK为8字节单DES密钥</li>
            <li>0x02: des按照ANSI X3.92标准</li>
            <li>0x32: 16字节密钥DES按照ANSI X3.92标准,大陆版SP20不支持</li>
            <li>0x72: 24字节密钥DES按照ANSI X3.92标准,大陆版SP20不支持</li>
            </ul>
 
            <ul>
            调用getMac的时候,指定PedMacMode后还需要指定exMode 如果mode = PedMacMode#MODE_00(算法1),exMode的取值如下：
            <li>-1: 默认值，3DES加密[密钥为16字节]</li>
            <li>0x01 DES加密[密钥为8字节]</li>
            <li>0x03 3DES加密[密钥为16字节]</li>
            <li>0x07 3DES加密[密钥为24字节]</li>
 
            如果mode = PedMacMode#MODE_01(算法2),exMode的取值如下：
            <li>-1: 默认值，3DES加密[密钥为16字节]</li>
            <li>0x01 DES加密[密钥为8字节]</li>
            <li>0x03 3DES加密[密钥为16字节]</li>
            <li>0x07 3DES加密[密钥为24字节]</li>
 
            如果mode = PedMacMode#MODE_02(算法3),exMode的取值如下：
            <li>-1: 默认值，3DES加密[密钥为16字节]</li>
            <li>0x13: 3DES加密[密钥为16字节]</li>
            <li>0x17: 3DES加密[密钥为24字节]</li>
 
            </ul>
 
            <ul>
            调用calcDes的时候，需要指定exMode,取值如下：
            <li>-1: 默认值，[密钥为16字节]，加解密由calcDes的EPedDesMode参数指定</li>
            <li>0x01 DES加密</li>
            <li>0x03 3DES加密 [密钥为16字节]</li>
            <li>0x81 DES解密 （EPS无此项）</li>
            <li>0x83 3DES解密 （EPS无此项）</li>
            <li>0x07 3DES加密 [密钥为24字节]</li>
            <li>0x87 3DES解密 [密钥为24字节]</li>
 
            </ul>
            </div> <div class="en"> When call writeKey,if the downloading key is main key or the DES key,then:
            <ul>
            <li>mode=0x01 -DES key of 8 bytes</li>
            <li>mode=0x03 -3DES key of 16 bytes</li>
            <li>mode=0x07 -3DES key of 24 bytes</li>
            </ul>
            When called writeKey,if the downloading key is work key(TPK,TAK), then specify the final generated
            computation mode:
            <ul>
            <li>0x01-- DES encryption 0x81-- DES decryption. MKeyID and WKeyID are both DES/ key of 8 bytes</li>
            <li>0x03-- 3DES encryption 0x83-- 3DES decryption 0xb1-- 3DES decreption. MKeyID is 3DES/key of 16
            bytes，WKeyID is DES/key of 8 bytes</li>
            <li>0x07-- 3DES encryption 0x87-- 3DES decryption. MKeyID is 3DES/key of 24 bytes，WKeyID is DES/key of
            8 bytes</li>
            <li>0x33-- 3DES encryption 0xb3-- 3DES decryption. MKeyID and WKeyID are both 3DES/key of 16 bytes</li>
            <li>0x71-- 3DES encryption 0xf1-- 3DES decryption. MKeyID is 3DES/key of 24 bytes, WKeyID is DES/key
            of 8 bytes</li>
            <li>0x73-- 3DES encryption 0xf3-- 3DES decryption. MKeyID is 3DES/key of 24 bytes, WKeyID is 3DES/key
            of 16 bytes</li>
            <li>0x77-- 3DES encryption 0xf7-- 3DES decryption. MKeyID and WKeyID are both 3DES/key of 24 bytes</li>
            </ul>
            When called getPinBlock,to ANSI X3.92 Standard
            <ul>
            <li>0x02: 8 bytes key</li>
            <li>0x32: 16 bytes key</li>
            <li>0x72: 24 bytes key</li>
            </ul>
            When called getMac,specify PedMacMode and exMode. If mode= PedMacMode#MODE_00, exMode value as
            follows:
            <ul>
            <li>0x01 -DES encryption[8 bytes]</li>
            <li>0x03 -3DES encryption[16 bytes]</li>
            <li>0x07 -3DES encryption [24 bytes]</li>
            </ul>
            If mode = PedMacMode#MODE_02,exMode value as follows:
            <ul>
            <li>0x13: 3DES encryption [16 bytes]</li>
            <li>0x17: 3DES encryption [24 bytes]</li>
            </ul>
            If mode = PedMacMode#MODE_01,exMode value as follows:
            <ul>
            <li>0x01 -DES encryption [8 bytes]</li>
            <li>0x03 -3DES encryption [16 bytes]</li>
            <li>0x07 -3DES encryption [24 bytes]</li>
            </ul>
            When called calDes,specify the exMode, value as follows:
            <ul>
            <li>mode = 0x01 -DES encryption</li>
            <li>mode = 0x03 -3DES encryption [16 bytes]</li>
            <li>mode = 0x81 -DES decryption [No this option for EPS]</li>
            <li>mode = 0x83 -3DES decryption[No this option for EPS]</li>
            <li>mode=0x07 -3DES encryption　[24 bytes]</li>
            <li>mode=0x87 -3DES decryption　[24 bytes]</li>
            </ul>
            </div></dd>
</dl>
</li>
</ul>
<a name="clearScreen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearScreen</h4>
<pre>void&nbsp;clearScreen()
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘
 
 清屏 </div> <div class="en"> This interface only be used for external PIN pad Clear screen </div></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="inputStr-byte-byte-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inputStr</h4>
<pre>java.lang.String&nbsp;inputStr(byte&nbsp;mode,
                          byte&nbsp;min,
                          byte&nbsp;max,
                          int&nbsp;timeoutMs)
                   throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘
 
 超时时间内输入指定长度范围内的字符串。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> <div class="en"> This interface only be used for external PIN pad Type string with
 specified length within timeout. <a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - <div class="zh"> 0x00 - 明码显示, 0x01 - 显示*号 </div> <div class="en"> 0x00 - show plain code, 0x01 - show
            * code </div></dd>
<dd><code>min</code> - <div class="zh"> 输入字符串的最小长度 </div> <div class="en"> Min length for typing string </div></dd>
<dd><code>max</code> - <div class="zh"> 输入字符串的最大长度 </div> <div class="en"> Max length for typing string </div></dd>
<dd><code>timeoutMs</code> - <div class="zh"> 超时时间，单位毫秒，最大超时时间为120秒 </div> <div class="en"> Timeout[ms],max timeout is 120 seconds.
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 输入的字符串 </div> <div class="en"> typed string </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="showStr-byte-byte-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>showStr</h4>
<pre>void&nbsp;showStr(byte&nbsp;x,
             byte&nbsp;y,
             java.lang.String&nbsp;str)
      throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘 显示英文字符。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> <div class="en"> This interface only be used for external PIN pad
 show English character. <a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - <div class="zh"> 显示字符在LCD上的起始点阵列号(单位：点),0≤x<122； </div> <div class="en"> Horizontal coordinate which
            is displayed on LCD.(unit: pixel great than or equal to 0 and less than or equal to 122) </div></dd>
<dd><code>y</code> - <div class="zh"> y：显示字符在LCD上的行号(单位：行),每行均为16点高的行，0—第一行，1--第二 </div> <div class="en"> Vertical
            coordinate which is displayed on LCD.(unit:pixel),the height of every row is 16 pixels. 0-1st row,
            1-2nd row </div></dd>
<dd><code>str</code> - <div class="zh"> 要显示的字符串 </div> <div class="en"> string to be displayed </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getSN--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSN</h4>
<pre>java.lang.String&nbsp;getSN()
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 获取外置密码键盘的SN。支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> 类型。</div> 
 <div class="en"> get External Ped Serial Number. <a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> is supported.</div></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 序列号 </div> <div class="en"> serial number </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="showInputBox-boolean-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>showInputBox</h4>
<pre>void&nbsp;showInputBox(boolean&nbsp;flag,
                  java.lang.String&nbsp;title)
           throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设置输入框密码的显隐 （*） 和提示信息。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div class="en"> Show Password * at Keyboard Page when input Pin and
 Set reminder text when input Pin. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>flag</code> - <div class="zh"> 控制输入框的显隐 ,true:显示 false:隐藏</div> <div class="en"> display password with * at Keyboard
            Page when input pin,true:shows false:hidden </div></dd>
<dd><code>title</code> - <div class="zh"> 要显示的提示字符串 </div> <div class="en"> reminder text when input Pin </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="genSM2KeyPair-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>genSM2KeyPair</h4>
<pre><a href="../../../com/pax/dal/entity/SM2KeyPair.html" title="class in com.pax.dal.entity">SM2KeyPair</a>&nbsp;genSM2KeyPair(int&nbsp;keyLenBit)
                  throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 生成一组 SM2 密钥对。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> 
 <div class="en"> Generate one SM2 key-pair.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyLenBit</code> - <div class="zh"> 私钥位数，支持256bit </div> <div class="en"> bits of private key, only support 256 bits.
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/SM2KeyPair.html" title="class in com.pax.dal.entity"><code>SM2KeyPair</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeSM2CipherKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeSM2CipherKey</h4>
<pre>void&nbsp;writeSM2CipherKey(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
                       byte&nbsp;srcKeyIdx,
                       <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;dstKeyType,
                       byte&nbsp;dstKeyIdx,
                       byte[]&nbsp;keyValue)
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 注入 SM2 密钥 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en"> To write SM2 cipher key to PED. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> <div class="zh"> 发散SM2秘钥（公/私钥）的源秘钥的类型，可以是PED_SM4_TMK。 </div> <div class="en"> Type
            of the source key to diversify SM2 key(private/public key),Could be PED_SM4_TMK key. </div></dd>
<dd><code>srcKeyIdx</code> - <div class="zh"> 发散SM2秘钥（公/私钥）的源秘钥的索引 </div> <div class="en"> Index of the source key to diversify SM2
            key(private/public key) </div></dd>
<dd><code>dstKeyType</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> <div class="zh"> 目标密钥的类型，可以是PED_SM2_PVT_KEY或者PED_SM2_PUB_KEY。 </div> <div
            class="en"> Type of the destination key, Could be PED_SM2_PVT_KEY or PED_SM2_PUB_KEY. </div></dd>
<dd><code>dstKeyIdx</code> - <div class="zh"> 目标密钥对额索引 </div> <div class="en"> Index of the destination key. </div></dd>
<dd><code>keyValue</code> - <div class="zh"> SM2公私钥的数据 </div> <div class="en"> SM2 private/public key data. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeSM2Key-byte-com.pax.dal.entity.EPedKeyType-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeSM2Key</h4>
<pre>void&nbsp;writeSM2Key(byte&nbsp;keyIdx,
                 <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;keyType,
                 byte[]&nbsp;keyValue)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 往PED中写入SM2密钥。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> 
 <div class="en"> To write SM2 key to PED. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> SM2 密钥索引[1~20] </div> <div class="en"> SM2 key index: 1~20 </div></dd>
<dd><code>keyType</code> - <div class="zh"> SM2_PVT_KEY：私钥 SM2_PUB_KEY：公钥 </div> <div class="en"> private key: SM2_PVT_KEY public
            key:SM2_PUB_KEY </div></dd>
<dd><code>keyValue</code> - <div class="zh"> 私钥, KeyValue 长度是 32 bytes 公钥, KeyValue 长度是 64 bytes </div> <div class="en"> private
            key data: 32 bytes public key data: 64 bytes </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="SM2Recover-byte-byte:A-com.pax.dal.entity.ECryptOperate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SM2Recover</h4>
<pre>byte[]&nbsp;SM2Recover(byte&nbsp;keyIdx,
                  byte[]&nbsp;input,
                  <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity">ECryptOperate</a>&nbsp;operation)
           throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用 SM2 公钥加密数据或私钥解密数据 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div> <div class="en"> Use SM2 public key to encrypt data, or SM2 private
 key to decrypt data. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> SM2 密钥索引[1~20] </div> <div class="en"> SM2 key index: 1~20 </div></dd>
<dd><code>input</code> - <div class="zh"> 待加密或解密的数据。加密：最大长度(1024-96)字节； 解密：最大长度1024字节。 </div> <div class="en"> Input data to be
            encrypted or decrypted. Encrypt: max length is (1024-96) bytes. Decrypt: max length is 1024 bytes.
            </div></dd>
<dd><code>operation</code> - <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity"><code>ECryptOperate</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 加密或解密后的数据 </div> <div class="en"> data that after encryption or decryption </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="SM2Sign-byte-byte-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SM2Sign</h4>
<pre>byte[]&nbsp;SM2Sign(byte&nbsp;pubKeyIdx,
               byte&nbsp;pvtKeyIdx,
               byte[]&nbsp;uid,
               byte[]&nbsp;input)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用 SM2 算法获得签名信息 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div> 
 <div class="en"> Use SM2 algorithm to calculate the signature data. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.
 </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pubKeyIdx</code> - <div class="zh"> SM2 公钥索引[1~20] </div> <div class="en"> SM2 public key index: 1~20 </div></dd>
<dd><code>pvtKeyIdx</code> - <div class="zh"> SM2 私钥索引[1~20] </div> <div class="en"> SM2 private key index: 1~20 </div></dd>
<dd><code>uid</code> - <div class="zh"> 签名者 ID 无特殊约定的情况下，用户身份的标识 ID 的长度为 16 字节，其默认值为 0x31, 0x32, 0x33, 0x34, 0x35, 0x36,
            0x37, 0x38, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38。 </div> <div class="en"> Signer ID, max
            length is 512 bytes, and default value is {0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,
            0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38} </div></dd>
<dd><code>input</code> - <div class="zh"> 待签名数据，最大长度1024字节 </div> <div class="en"> Input data, and max length is 1024 bytes.
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 64 字节的签名值 </div> <div class="en"> 64 bytes signature data. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="SM2Verify-byte-byte:A-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SM2Verify</h4>
<pre>void&nbsp;SM2Verify(byte&nbsp;pubKeyIdx,
               byte[]&nbsp;uid,
               byte[]&nbsp;input,
               byte[]&nbsp;signature)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用 SM2 公钥验证签名。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> 
 <div class="en"> Use SM2 algorithm to verify the signature data. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pubKeyIdx</code> - <div class="zh"> SM2 公钥索引[1~20] </div> <div class="en"> SM2 public key index: 1~20 </div></dd>
<dd><code>uid</code> - <div class="zh"> 签名者 ID,最大长度为512字节,无特殊约定的情况下，用户身份的标识 ID 的 长度为 16 字节，其默认值为 0x31, 0x32, 0x33, 0x34,
            0x35, 0x36, 0x37, 0x38, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38。 </div> <div class="en"> Signer
            ID , maximum length is 512 bytes, max length is 512 bytes, and default value is
            {0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38, 0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38} </div></dd>
<dd><code>input</code> - <div class="zh"> 被签名数据 </div> <div class="en"> Input data, and max length is 1024 bytes. </div></dd>
<dd><code>signature</code> - <div class="zh"> 64 字节的签名值 </div> <div class="en"> 64 bytes signature data. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="SM3-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SM3</h4>
<pre>byte[]&nbsp;SM3(byte[]&nbsp;input,
           byte&nbsp;mode)
    throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用 SM3 算法计算杂凑值。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> 
 <div class="en"> Use SM3 algorithm to calculate Hash. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - <div class="zh"> 输入数据 </div> <div class="en"> Input data. </div></dd>
<dd><code>mode</code> - <div class="zh"> 目前支持 0x00,其它值保留 </div> <div class="en"> Only support 0x00. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 32 字节杂凑值 </div> <div class="en"> Hash, 32 bytes. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="SM4-byte-byte:A-byte:A-com.pax.dal.entity.ECryptOperate-com.pax.dal.entity.ECryptOpt-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SM4</h4>
<pre>byte[]&nbsp;SM4(byte&nbsp;keyIdx,
           byte[]&nbsp;initVector,
           byte[]&nbsp;input,
           <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity">ECryptOperate</a>&nbsp;operation,
           <a href="../../../com/pax/dal/entity/ECryptOpt.html" title="enum in com.pax.dal.entity">ECryptOpt</a>&nbsp;option)
    throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用 SM4 算法加密或解密数据 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div> 
 <div class="en"> Use SM4 algorithm to encrypt or decrypt. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> SM4_TDK 的索引[1～100] </div> <div class="en"> SM4_TDK index: 1~100 </div></dd>
<dd><code>initVector</code> - <div class="zh">CBC mode:16 字节初始化向量； 对于 ECB 模式该域为 NULL。 </div> <div class="en"> ECB mode: init vector
            is null CBC mode: init vector, 16 bytes. </div></dd>
<dd><code>input</code> - <div class="zh"> 待加密或解密的数据.最大长度不超过1024，并且为16倍数。 </div> <div class="en"> Input data to be encrypted or
            decrypted. Max length less than or equal to 1024, and that is a multiple of 16. </div></dd>
<dd><code>operation</code> - <ul>
            <li><a href="../../../com/pax/dal/entity/ECryptOperate.html#ENCRYPT"><code>ECryptOperate.ENCRYPT</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECryptOperate.html#DECRYPT"><code>ECryptOperate.DECRYPT</code></a></li>
            </ul></dd>
<dd><code>option</code> - <ul>
            <li><a href="../../../com/pax/dal/entity/ECryptOpt.html#ECB"><code>ECryptOpt.ECB</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECryptOpt.html#CBC"><code>ECryptOpt.CBC</code></a></li>
            </ul></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 加密或解密后的数据 </div> <div class="en"> data that after encryption or decryption </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMacSM-byte-byte:A-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMacSM</h4>
<pre>byte[]&nbsp;getMacSM(byte&nbsp;keyIdx,
                byte[]&nbsp;initVector,
                byte[]&nbsp;input,
                byte&nbsp;mode)
         throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用 SM4 算法计算 MAC。 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div> 
 <div class="en"> Use SM4 algorithm to calculate MAC. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> SM4_TAK 的密钥索引[1～100] </div> <div class="en"> SM4_TAK index: 1~100 </div></dd>
<dd><code>initVector</code> - <div class="zh"> 16 字节初始化向量 </div> <div class="en"> init vector, 16 bytes </div></dd>
<dd><code>input</code> - <div class="zh"> 待计算 MAC 的数据 </div> <div class="en"> Input data. </div></dd>
<dd><code>mode</code> - <div class="zh"> 0x00: 使用 SM4 CBC 算法计算 MAC 值，首先 将初始向量与 BLOCK1 进行异或，并用 SM4 算法使用 TAK 对异或的结果进行加密，然后
            获得的密文与 BLOCK2 异或，用 SM4 算法使 用 TAK 对结果加密，按顺序给出 16 字节的 加密结果。MacOut 为 16 字节。 0x01: SM3 Hash Mac，MacOut 为
            32 字节。 </div> <div class="en"> 0x00: use SM4 CBC algorithm, and MAC has 16 bytes. 0x01: use SM3
            algorithm, and MAC has 32 bytes. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>MAC</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getPinBlockSM4-byte-java.lang.String-byte:A-com.pax.dal.entity.EPinBlockMode-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinBlockSM4</h4>
<pre>byte[]&nbsp;getPinBlockSM4(byte&nbsp;keyIndex,
                      java.lang.String&nbsp;expPinLen,
                      byte[]&nbsp;dataIn,
                      <a href="../../../com/pax/dal/entity/EPinBlockMode.html" title="enum in com.pax.dal.entity">EPinBlockMode</a>&nbsp;mode,
                      int&nbsp;timeoutMs)
               throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 指定的时限内,扫描键盘上输入的 PIN 并输出采用 SM4 算法生成的 PIN BLOCK 加密数据块。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> <div class="en"> Scan the keyboard
 PIN entry and output the PIN BLOCK using SM4_TPK. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1～100] SM4_TPK 的索引 </div> <div class="en"> [1~100] SM4_TPK index </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12 的枚举集合 可输入的合法密码长度字符串,应用程序把 允许的密码长度全部枚举出来,并且用”,” 号隔开每个长度,如允许输入 4、6 位密码,则
            该字符串应该设置为”4,6”。 </div> <div class="en"> Enumeration of 0-12 Application enumerates of all possible
            lengths of PIN. ',' will be used to separate each number of length. If no PIN, or 4 or 6 digits of PIN
            are allowed, the string will be set as '0,4,6'. 0 means that no PIN is required, and pressing 'Enter'
            will return. </div></dd>
<dd><code>dataIn</code> - <div class="zh"> DataIn 域共占用 16 字节空间，用于存放卡号 移位后生成的 16 位主账号。 当 Mode=0x00 时,DataIn 指向卡号移位后生 成的 16 位主帐号。
            </div> <div class="en"> If Mode=0x00, DataIn is the 16 bytes PAN after shifting. </div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EPinBlockMode.html" title="enum in com.pax.dal.entity"><code>EPinBlockMode</code></a> <div class="zh"> 选择 PIN BLOCK 的格式, ISO9564 格式 0 </div> <div class="en"> PIN
            BLOCK format ISO9564 format 0 </div></dd>
<dd><code>timeoutMs</code> - <div class="zh"> 输入 PIN 的超时时间,单位：毫秒 最大值为 300000ms 0:表示没有超时时间，PED 不做超时控制。 </div> <div class="en"> The
            timeout of PIN entry [ms, Input] Maximum is 300000Ms. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 16bytes 生成的密文 PINBlock </div> <div class="en"> 16bytes PINBlock </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="cancelInput--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelInput</h4>
<pre>void&nbsp;cancelInput()
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> PedGetPinBlock 时取消输入。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> 类型。 </div> 
 <div class="en"> Cancel input when PedGetPinBlock. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> is supported.</div></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setAmount-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAmount</h4>
<pre>void&nbsp;setAmount(java.lang.String&nbsp;amount)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 输入Pin时设置总额(UMS定制)。 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> 
 <div class="en"> Set amount Text when Input Pin (only for UMS). <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>amount</code> - <div class="zh"> 总额 </div> <div class="en"> consumption amount need be shown </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="idKeyCalc-byte-byte:A-byte:A-com.pax.dal.entity.EIdKeycCalcMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idKeyCalc</h4>
<pre>byte[]&nbsp;idKeyCalc(byte&nbsp;keyId,
                 byte[]&nbsp;initvector,
                 byte[]&nbsp;dataIn,
                 <a href="../../../com/pax/dal/entity/EIdKeycCalcMode.html" title="enum in com.pax.dal.entity">EIdKeycCalcMode</a>&nbsp;mode)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用Idkey对机器序列号等身份信息进行加密运算 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> 
 <div class="en"> Use IdKey encrypt Identity information. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyId</code> - <div class="zh"> 1 (目前只支持索引1) </div> <div class="en"> 1(only support 1 now) </div></dd>
<dd><code>initvector</code> - <div class="zh"> ECB 模式: 初始向量为 null ; CBC 模式: 初始向量, 16 字节.</div> <div class="en"> ECB mode: init
            vector is null; CBC mode: init vector, 16 bytes. </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 输入数据进行加密或解密。 最大长度为1024，16的倍数。 </div> <div class="en">To encrypt or decrypt incoming
            data. A maximum length of 1024, a multiple of 16.</div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EIdKeycCalcMode.html" title="enum in com.pax.dal.entity"><code>EIdKeycCalcMode</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 加密的数据 </div> <div class="en">Encrypt Result </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setKeyboardLayoutLandscape-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyboardLayoutLandscape</h4>
<pre>void&nbsp;setKeyboardLayoutLandscape(boolean&nbsp;landscape)
                         throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设置密码键盘横向显示。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> 
 <div class="en">Set password keyboard horizontal display. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>landscape</code> - <div class="zh"> true:横向 false:竖向 </div> <div class="en">true:horizontalfalse:vertical</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setKeyBoardLayout-boolean-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyBoardLayout</h4>
<pre>byte[]&nbsp;setKeyBoardLayout(boolean&nbsp;isOnce,
                         java.lang.String&nbsp;layoutInfo)
                  throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设置定制的Pin输入键盘布局 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Set the custom Pin input keyboard layout. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isOnce</code> - <div class="zh"> true:单次有效 false:重启机器前有效 </div> <div class="en">true:single effect false:effective before restarting the device</div></dd>
<dd><code>layoutInfo</code> - <div class="zh"> 定制Pin输入键盘布局 ，json格式的字符串，
             模板：{
                      "areas": [{
                          "type": "NUM",
                          "geometry": "x,y,w,h"
                          },
                          {
                          "type": "CANCEL",
                          "geometry": "x,y,w,h"
                          },
                           {
                          "type": "ENTER",
                          "geometry": "x,y,w,h"
                          },
                          {
                          "type": "CLEAR",
                          "geometry": "x,y,w,h"
                          }
                      ]
                  }
              type表示键类型，NUM表示数字键，CLEAR表示清除键，ENTER表示确认件，CANCEL表示取消键
              geomentry表示键盘布局，x表示x坐标，y表示y坐标，w表示宽，h表示高</div> 
              <div class="en">custom Pin input keyboard layout, json-formatted string,
              template:
              {
                      "areas": [{
                          "type": "NUM",
                          "geometry": "x,y,w,h"
                          },
                          {
                          "type": "CANCEL",
                          "geometry": "x,y,w,h"
                          },
                           {
                          "type": "ENTER",
                          "geometry": "x,y,w,h"
                          },
                          {
                          "type": "CLEAR",
                          "geometry": "x,y,w,h"
                          }
                      ]
                  }
              type:key type,NUM:number key,CLEAR:clear key,ENTER:enter key,CANCEL:cancel key.
              geomentry:key layout parameters,x:x-coordinate,y:y-coordinate,w:width,h:height.
              </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 数字键盘的顺序，为10个字节byte数组 </div> <div class="en">numeric keypad order, 10 byte array</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeAesKey-com.pax.dal.entity.EPedKeyType-byte-byte-byte:A-com.pax.dal.entity.EAesCheckMode-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeAesKey</h4>
<pre>void&nbsp;writeAesKey(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
                 byte&nbsp;srcKeyIndex,
                 byte&nbsp;destkeyIndex,
                 byte[]&nbsp;destKeyValue,
                 <a href="../../../com/pax/dal/entity/EAesCheckMode.html" title="enum in com.pax.dal.entity">EAesCheckMode</a>&nbsp;checkMode,
                 byte[]&nbsp;checkBuf)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">写入一个AES密钥，并可以选择使用KCV验证密钥正确性。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div class="en"> To write Aes key to PED,only allow TAESK
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> <div class="zh">
            <p>
            原密钥类型
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a></li>
            </ul>
            </div> <div class="en">
            <p>
            Source Key Type
            </p>
            <ul>
            <li>TLK - Terminal Loading Key</li>
            <li>TMK - Terminal Master Key</li>
            </ul>
            </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh">
            <p>
            原密钥索引
            </p>
            <ul>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a>时, srcKeyIndex=1有效</li>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>时, srcKeyIndex=[1~100]有效</li>
            </ul>
            当srcKeyIndex = 0，密钥将以明文形式写入PED。 </div> <div class="en">
            <p>
            Source Key Index
            </p>
            <ul>
            <li>when srcKeyType=TLK, srcKeyIndex=1</li>
            <li>when srcKeyType=TMK, srcKeyIndex=[1~100]</li>
            </ul>
            when srcKeyIndex = 0，The key will be written to PED in clear text. </div></dd>
<dd><code>destkeyIndex</code> - <div class="zh">
            <p>
            目的密钥索引[1-40]
            </p>
            </div> <div class="en">
            <p>
            Destination Key Index[1-40]
            </p>
            </div></dd>
<dd><code>destKeyValue</code> - <div class="zh">
            <p>
            密钥明文或密文,32bytes
            </p>
            </div> <div class="en">
            <p>
            Cryptograph or Plaintext,32bytes
            </p>
            </div></dd>
<dd><code>checkMode</code> - <a href="../../../com/pax/dal/entity/EAesCheckMode.html" title="enum in com.pax.dal.entity"><code>EAesCheckMode</code></a> <div class="zh">
            <p>
            校验模式
            </p>
            <ul>
            <li>checkMode=KCV_NONE -无验证.</li>
            <li>checkMode=KCV_ENCRYPT_0 -对16个字节的0x00进行AES ECB模式加密运算，得到的密文的前4个字节即为KCV值。</li>
            <li>checkMode=KCV_ENCRYPT_FIX_DATA -首先对密钥明文进行奇校验，再对16字节长度
            ―\x12\x34\x56\x78\x90\x12\x34\x56\x12\x34\x56\x78\x90\x12\x34\x56‖进行AES ECB模式的加密运算，得到的密文的前4个字节即为KCV值。</li>
            <li>checkMode=KCV_MAC_INPUT_DATA -传入一串数据KcvData，使用源密钥对[aucDstKeyValue(密文)+
            KcvData]进行指定模式的MAC运算，得到的8个字节的MAC值即为KCV值。</li>
            </ul>
            </div> <div class="en">
            <p>
            Check Mode
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -No Check</li>
            <li>When checkMode=KCV_ENCRYPT_0 -Perform AES ECB mode encryption on 16 bytes 0x00, and use first 4
            bytes as KCV.</li>
 
            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -Perform parity check first, then perform AES ECB mode
            encryption on 16 bytes―\x12\x34\x56\x78\x90\x12\x34\x56\x12\x34\x56\x78\x90\x12\x34\x56‖, and use
            first 4 bytes as KCV.</li>
 
            <li>When checkMode=KCV_MAC_INPUT_DATA -Send in data KcvData, use source key to perform specified mode
            of MAC on [aucDesKeyValue(ciphertext) +KcvData], and use the 8 bytes result as KCV.</li>
            </ul>
            </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
            <p>
            校验数据缓冲区
            </p>
            <ul>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_NONE"><code>ECheckMode.KCV_NONE</code></a>时 checkBuf的值无效,系统认为不验证KCV,可以为null</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_0"><code>ECheckMode.KCV_ENCRYPT_0</code></a>时checkBuf为KCV的值</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_FIX_DATA"><code>ECheckMode.KCV_ENCRYPT_FIX_DATA</code></a>时checkBuf为KCV的值</li>
            <li>当iCheckMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_MAC_INPUT_DATA"><code>ECheckMode.KCV_MAC_INPUT_DATA</code></a>时按以下规则提供checkBuf:
            <p>
            checkBuf[0]= KcvData长度(KcvDataLen)
            </p>
            <p>
            checkBuf+1: KcvData
            </p>
            <p>
            checkBuf[1+KcvDataLen]=MAC运算模式,参考<a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-"><code>getMac(byte, byte[], EPedMacMode)</code></a>中的mode参数
            </p>
            <p>
            checkBuf[2+KcvDataLen]=KCV长度
            </p>
            <p>
            checkBuf[3+KcvDataLen]是KCV的值
            </p>
            </li>
            </ul>
            </div> <div class="en">
            <p>
            Check Data Buffer
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -PED won't check KCV, this data is no meaning.</li>
            <li>When checkMode=KCV_ENCRYPT_0 -4 bytes key check value</li>
            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -4 bytes key check value</li>
            <li>When iCheckMode=KCV_MAC_INPUT_DATA - checkBuf as follows: checkBuf[0] = length of KcvData
            checkBuf+1: kcvData checkBuf[1+kcvDataLen]: MAC computation mode
            <a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-"><code>getMac(byte, byte[], EPedMacMode)</code></a> checkBuf[2+kcvDataLen]:KCV length
            checkBuf[3+kcvDataLen]:KCV Value</li>
            </ul>
            </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.00.02</dd>
</dl>
</li>
</ul>
<a name="calcAes-byte-byte:A-byte:A-com.pax.dal.entity.ECryptOperate-com.pax.dal.entity.ECryptOpt-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcAes</h4>
<pre>byte[]&nbsp;calcAes(byte&nbsp;keyIdx,
               byte[]&nbsp;initvector,
               byte[]&nbsp;dataIn,
               <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity">ECryptOperate</a>&nbsp;operation,
               <a href="../../../com/pax/dal/entity/ECryptOpt.html" title="enum in com.pax.dal.entity">ECryptOpt</a>&nbsp;option)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 用AES算法进行加密或者解密 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> 
 <div class="en"> Use AES algorithm to encrypt or decrypt. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> AES 密钥索引: 1~40</div> <div class="en"> AES Key index: 1~40 </div></dd>
<dd><code>initvector</code> - <div class="zh">使用CBC/OFB 模式进行加解密运算时需要用到，若InitVector为NULL，则默认为16字节的全0x00。 使用ECB加解密时不需要，可以为NULL。 </div>
            <div class="en"> ECB mode: init vector is null .CBC mode: init vector, 16 bytes. </div></dd>
<dd><code>dataIn</code> - <div class="zh">待运算的数据.应小于等于1024字节，且为16的倍数。 </div> <div class="en"> Input data to be encrypted or
            decrypted. Max length <= 1024, and that is a multiple of 16.</div></dd>
<dd><code>operation</code> - <ul>
            <li><a href="../../../com/pax/dal/entity/ECryptOperate.html#ENCRYPT"><code>ECryptOperate.ENCRYPT</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECryptOperate.html#DECRYPT"><code>ECryptOperate.DECRYPT</code></a></li>
            </ul></dd>
<dd><code>option</code> - <ul>
            <li><a href="../../../com/pax/dal/entity/ECryptOpt.html#ECB"><code>ECryptOpt.ECB</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECryptOpt.html#CBC"><code>ECryptOpt.CBC</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECryptOpt.html#OFB"><code>ECryptOpt.OFB</code></a></li>
            </ul></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 加密或者解密后的数据 </div> <div class="en"> encrypted or decrypted data </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.00.02</dd>
</dl>
</li>
</ul>
<a name="setKeyboardRandom-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyboardRandom</h4>
<pre>void&nbsp;setKeyboardRandom(boolean&nbsp;random)
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">设置键盘按键显示模式，固定序列或随机序列(默认)。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Set keyboard display mode, fixed sequence or
 random sequence (default). <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>random</code> - true:random false:fixed sequence</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.00.03</dd>
</dl>
</li>
</ul>
<a name="genRSAKey-byte-byte-short-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>genRSAKey</h4>
<pre>void&nbsp;genRSAKey(byte&nbsp;pvtKeyIdx,
               byte&nbsp;pubKeyIdx,
               short&nbsp;modLenBit,
               byte&nbsp;pubExpType)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 生成RSA密钥对并注入PED。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> 
 <div class="en"> Generate RSA key pairs then inject into PED. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pvtKeyIdx</code> - <div class="zh">私钥索引1-10</div> <div class="en"> Private key index 1-10 </div></dd>
<dd><code>pubKeyIdx</code> - <div class="zh">公钥索引1-10</div> <div class="en">Public key index 1-10</div></dd>
<dd><code>modLenBit</code> - <div class="zh"> 模长，支持512,1024,2048。 </div> <div class="en"> Modulus len,support 512,1024,2048. </div></dd>
<dd><code>pubExpType</code> - <div class="zh"> 公共指数类型：0:3 1:65537 </div> <div class="en"> Public exponent type: 0:3 1:65537 </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.01.00</dd>
</dl>
</li>
</ul>
<a name="setPort-com.pax.dal.entity.EUartPort-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPort</h4>
<pre>void&nbsp;setPort(<a href="../../../com/pax/dal/entity/EUartPort.html" title="enum in com.pax.dal.entity">EUartPort</a>&nbsp;port)</pre>
<div class="block"><div class="zh"> 设置外置PED的连接端口。支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> 类型。</div> 
 <div class="en"> Set connection port of the external PED. <a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>port</code> - <a href="../../../com/pax/dal/entity/EUartPort.html" title="enum in com.pax.dal.entity"><code>EUartPort</code></a></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.02.00</dd>
</dl>
</li>
</ul>
<a name="getPinBlock-byte-java.lang.String-byte:A-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinBlock</h4>
<pre>byte[]&nbsp;getPinBlock(byte&nbsp;keyIndex,
                   java.lang.String&nbsp;expPinLen,
                   byte[]&nbsp;dataIn,
                   byte&nbsp;mode,
                   int&nbsp;timeoutMs)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div class="en"> Scan the keyboard PIN entry and
 output the PIN BLOCK encrypted data block in a specific time. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TPK的索引 </div> <div class="en"> [1~100] TPK index </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合
            可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"0,4,6"。
            若枚举0长度则示意可以不输任何数字而直接按确认键返回。
            <p>
            当mode=0x05的时候，该参数为"5"
            </p>
            </div> <div class="en"> Enumeration of 0-12.The enter password string with legal length. Application
            enumerates of all possible lengths of PIN. ","will be used to separate each number of length. If no
            PIN,or 4 or 6 digits of PIN are allowed, the string will be set as "0,4,6". 0 means that no PIN is
            required, and pressing "Enter" will return.
            <p>
            When mode=0x05，it should be "5"
            </p>
            </div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>当mode=0x00时, DataIn指向卡号移位后生成的16位主帐号。</li>
            <li>当mode=0x01时, 输入参数为参与PinBlock的格式化,8字节数据(根据ISO9564的规范,该数据可以是随机数、交易流水号或时间戳等)。</li>
            <li>当mode=0x02时, DataIn指向卡号移位后生成的16位主帐号,DataIn+16指向参与PinBlock格式化的8字节数据(根据ISO9564的规范
            ,该数据可以是随机数、交易流水号或时间戳等,但是每个字节的高4位和低4位,均必须在0xA~0xF之间,所以当Mode为0x02时,应用需要将该8字节的数据做此检查,如果不满足要求将返回错误)</li>
            <li>当mode=0x03时, 为交易流水号ISN [6 Bytes,ASCII码]</li>
            <li>当Mode=0x05时, DataIn包含卡账号和CCS数据，格式为PANlen(1个字节) + CCSlen（1个字节） + PAN（PANlen个字节） +
            CCS（CCSlen个字节）。其中PAN为卡账号（ASCII码），目前限定PANlen必须为18，CCSlen必须为0或者8，CCS为ASCII码格式。</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When mode=0x00, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=0x01, Input parameters for participation in PinBlock formatting, 8 bytes data. (refer to
            ISO9564 standard, this data can be Random number, the transaction serial number or time stamp, etc.)</li>
            <li>When mode=0x02, DataIn is the 16 bytes primary account number after shifting. DataIn+16 point to
            the 8 bytes data which has participated in PinBlock formatting. (refer to ISO9564 standard, this data
            can be Random number, the transaction serial number or time stamp,etc. But the higher 4 bits and lower
            4 bits of each byte should between 0xA~0xF. So, if the Mode=0x02, the bottom level will do this check
            for the 8 bytes data, it will return an error if does not meet the requirement.).</li>
            <li>When mode=0x03, dataIn is ISN [6 Bytes, ASCII code]</li>
            <li>When Mode=0x05, DataIn contains card account and CCS data. The format is PANlen (1 bytes) + CCSlen
            (1 bytes) + PAN (PANlen byte) + CCS (CCSlen byte). In which PAN is a card account (ASCII code), the
            current limited PANlen must be 18, CCSlen must be 0 or 8, CCS is ASCII code format.</li>
            </ul>
            </div></dd>
<dd><code>mode</code> - <div class="zh"> PIN BLOCK的格式
            <ul>
            <li>0x00:ISO9564_0</li>
            <li>0x01:ISO9564_1</li>
            <li>0x02:ISO9564_3</li>
            <li>0x03:HK EPS</li>
            <li>0x04:预留</li>
            <li>0x05:Italy 专用模式</li>
            </ul>
            </div> <div class="en"> PIN BLOCK Format
            <ul>
            <li>0x00:ISO9564_0</li>
            <li>0x01:ISO9564_1</li>
            <li>0x02:ISO9564_3</li>
            <li>0x03:HK EPS -EPS PINBLOCK Format</li>
            <li>0x04:Reserved</li>
            <li>0x05:Italy special mode</li>
            </ul>
            </div></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            <p>
            0:表示没有超时时间，PED不做超时控制
            </p>
            </div> <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            <p>
            0: No timeout time, not doing timeout control for PED.
            </p>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回pinBlock，如果bypass 返回NULL </div> <div class="en"> Return pinBlock byte array, if
         bypass,return NULL. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.02.00</dd>
</dl>
</li>
</ul>
<a name="readRSAKey-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readRSAKey</h4>
<pre><a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity">RSAKeyInfo</a>&nbsp;readRSAKey(byte&nbsp;rsaKeyIndex)
               throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 读取RSA公钥密钥 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en"> Read rsa public key. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rsaKeyIndex</code> - <div class="zh"> RSA公钥索引[1-10] </div> <div class="en"> RSA public key index [1-10] </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity"><code>RSAKeyInfo</code></a> </div> <div class="en"> <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity"><code>RSAKeyInfo</code></a></div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.03.00</dd>
</dl>
</li>
</ul>
<a name="setFunctionKey-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFunctionKey</h4>
<pre>void&nbsp;setFunctionKey(byte&nbsp;ucKey)
             throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设定某些功能键的功能。PED 上电后,CLEAR 键的默认功能为,持卡人输入 PIN 时,按 CLEAR 键, 清除已输入的 PIN。可以通过该函数来设置 CLEAR 键的不同功能。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 </div> <div class="en">The function of setting some function keys. After the PED is powered on, the default
 function of the CLEAR key is to press the CLEAR key to clear the incoming PIN when the cardholder enters PIN.
 This function can be used to set different functions of the CLEAR key. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ucKey</code> - <div class="zh">
            <ul>
            <li>ucKey为 0x00时,表示在已输入的 PIN已经清空或者没有输入PIN时按CLEAR键的功能,PED退出输入密码状态,并返回PED_RET_ERR_INPUT_CLEAR</li>
            <li>
            ucKey为0x01时,表示调用该函数后,密码输入的接口(PedGetPinBlock、PedGetPinDukpt、PedVerifyPlainPin、PedVerifyCipherPin)
            在输入PIN过程中 ,按下CLEAR键,逐个清除最后输入的PIN, 当清空所有已输入的PIN时,不退出输入PIN函数。</li>
            <li>ucKey为0x02时，表示允许按ATM4键，结束PIN输入,对于无ATM键的机型无效；</li>
            <li>ucKey为0x03时，表示允许按功能键，结束PIN输入，对于无FN键的机型无效。</li>
            <li>ucKey为0x04时，表示没有输入PIN时按CLEAR键，PED退出输入密码状态，并返回PED_RET_ERR_INPUT_CLEAR；当有PIN输入时，按CLEAR键逐个清除最后输入的PIN，当清空所有已输入的PIN时，不退出输入PIN函数</li>
            <li>ucKey为0x05时，表示没有输入PIN时按CLEAR键，PED退出输入密码状态，并返回PED_RET_ERR_INPUT_CLEAR；当有PIN输入时，按CLEAR键会一次性全部清除所有输入的PIN，当清空所有已输入的PIN时再按CLEAR键，不退出输入PIN函数。</li>
            <li>ucKey为0xff时，表示恢复功能键默认功能。</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When ucKey is 0x00, it means that PED exits the input password state and returns to
            PED_RET_ERR_INPUT_CLEAR when the input PIN is empty or does not enter PIN with the CLEAR key.</li>
            <li>
            When ucKey is 0x01, when the function is called, the interface (PedGetPinBlock, PedGetPinDukpt,
            PedVerifyPlainPin, PedVerifyCipherPin) of the password input is pressed by the CLEAR key in the input
            PIN process, and the final PIN is removed one by one. When all the entered PIN are emptied, the input
            PIN function is not exited.</li>
            <li>When ucKey is 0x02, it means that the ATM4 input is allowed to end the PIN input, which is invalid
            for the machine without ATM key.</li>
            <li>When ucKey is 0x03, it means that the PIN input is allowed to press the function key, which is
            invalid for the FN free key.</li>
            <li>When ucKey is 0x04, it means pressing CLEAR when PIN is not entered, PED exits the password input state and returns PED_RET_ERR_INPUT_CLEAR; when there is PIN input, press CLEAR key to clear the last PIN one by one, and when all the PIN input is emptied, it does not exit the input PIN function.</li>
            <li>When ucKey is 0x05, it means pressing CLEAR when PIN is not entered, PED exits the password state and returns to PED_RET_ERR_INPUT_CLEAR; when there is PIN input, pressing CLEAR key clears all input PINs at one time, and then pressing CLEAR key when all input PINs are emptied, and does not exit the input PIN function.</li>
            <li>When ucKey is 0xff, it means restoring the default function of the function key.</li>
            </ul>
            </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.00.00</dd>
</dl>
</li>
</ul>
<a name="getDUKPTPin-byte-java.lang.String-byte:A-java.lang.Boolean-java.lang.String-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDUKPTPin</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;getDUKPTPin(byte&nbsp;groupIndex,
                        java.lang.String&nbsp;expPinLen,
                        byte[]&nbsp;dataIn,
                        java.lang.Boolean&nbsp;isByPass,
                        java.lang.String&nbsp;msg1,
                        java.lang.String&nbsp;msg2,
                        int&nbsp;timeoutMs)
                 throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 在PED上输入PIN，并使DUKPT的PIN密钥计算PINBlock，仅适用于type-c类外置密码键盘。</div> <div class="en"> PINBlock Input the PIN on PED,and use
 the PINkey of DUKPT to calculate the PINBlock. Only for external type-c pinpad</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> DUKPT引擎索引, 0,1,2 </div> <div class="en"> [1~40] DUKPT key group id， 0,1,2</div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 4~12的枚举集合
            可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"4,6"。</div> 
            <div class="en"> Enumeration of 4-12.The enter password string with
            legal length. Application enumerates of all possible lengths of PIN. ","will be used to separate each number of length. </div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>dataIn指向卡号移位后生成的16位主帐号</li>
            
            </ul>
            </div> <div class="en">
            <ul>
           <li>dataIn is the 16 bytes primary account number after shifting.</li>
            </ul>
            </div></dd>
<dd><code>isByPass</code> - <div class="zh">
            <ul>
            <li>是否允许不输入密码，true:意味着可以直接按Enter键返回</li>          
            </ul>
            </div> <div class="en">
            <ul>
           <li>true:means that no PIN is required, and pressing "Enter" will return.</li>
           </ul>
           </div></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            <p>
            0:表示没有超时时间，PED不做超时控制
            </p>
            </div> <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            <p>
            0: No timeout time, not doing timeout control for PED.
            </p>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>DUKPTResult <a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>Exceptions</code></dd>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setKeyBoardType-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyBoardType</h4>
<pre>void&nbsp;setKeyBoardType(int&nbsp;type)
              throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设置PIN输入的密码键盘类型。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div class="en"> set keyboard type. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - <div class="zh">
            <ul>
            <li>0:同时开启物理键盘和虚拟键盘输入</li>
            <li>1:只开启物理键盘输入</li>
            <li>2:只开启虚拟键盘输入</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>0:Open physical keyboard and virtual keyboard input simultaneously.</li>
            <li>1:Only physical keyboard input is enabled.</li>
            <li>2:Open virtual keyboard input only</li>
            </ul>
            </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getKeyBoardType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyBoardType</h4>
<pre>int&nbsp;getKeyBoardType()
             throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 获取PIN输入的密码键盘类型 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en"> get keyboard type for PIN entry. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">
         <ul>
         <li>0:同时开启物理键盘和虚拟键盘输入</li>
         <li>1:只开启物理键盘输入</li>
         <li>2:只开启虚拟键盘输入</li>
         </ul>
         </div> <div class="en">
         <ul>
         <li>0:Open physical keyboard and virtual keyboard input simultaneously.</li>
         <li>1:Only physical keyboard input is enabled.</li>
         <li>2:Open virtual keyboard input only</li>
         </ul>
         </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getPinBlock-byte-java.lang.String-byte:A-byte-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinBlock</h4>
<pre>byte[]&nbsp;getPinBlock(byte&nbsp;keyIdx,
                   java.lang.String&nbsp;expPinLen,
                   byte[]&nbsp;dataIn,
                   byte&nbsp;mode,
                   int&nbsp;timeoutMs,
                   int&nbsp;controlTime)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div class="en"> Scan the keyboard PIN entry and
 output the PIN BLOCK encrypted data block in a specific time. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> [1~100] TPK的索引 </div> <div class="en"> [1~100] TPK index </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合
            可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"0,4,6"。
            若枚举0长度则示意可以不输任何数字而直接按确认键返回。
            <p>
            当mode=0x05的时候，该参数为"5"
            </p>
            </div> <div class="en"> Enumeration of 0-12.The enter password string with legal length. Application
            enumerates of all possible lengths of PIN. ","will be used to separate each number of length. If no
            PIN,or 4 or 6 digits of PIN are allowed, the string will be set as "0,4,6". 0 means that no PIN is
            required, and pressing "Enter" will return.
            <p>
            When mode=0x05，it should be "5"
            </p>
            </div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>当mode=0x00时, DataIn指向卡号移位后生成的16位主帐号。</li>
            <li>当mode=0x01时, 输入参数为参与PinBlock的格式化,8字节数据(根据ISO9564的规范,该数据可以是随机数、交易流水号或时间戳等)。</li>
            <li>当mode=0x02时, DataIn指向卡号移位后生成的16位主帐号,DataIn+16指向参与PinBlock格式化的8字节数据(根据ISO9564的规范
            ,该数据可以是随机数、交易流水号或时间戳等,但是每个字节的高4位和低4位,均必须在0xA~0xF之间,所以当Mode为0x02时,应用需要将该8字节的数据做此检查,如果不满足要求将返回错误)</li>
            <li>当mode=0x03时, 为交易流水号ISN [6 Bytes,ASCII码]</li>
            <li>当Mode=0x05时, DataIn包含卡账号和CCS数据，格式为PANlen(1个字节) + CCSlen（1个字节） + PAN（PANlen个字节） +
            CCS（CCSlen个字节）。其中PAN为卡账号（ASCII码），目前限定PANlen必须为18，CCSlen必须为0或者8，CCS为ASCII码格式。</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When mode=0x00, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=0x01, Input parameters for participation in PinBlock formatting, 8 bytes data. (refer to
            ISO9564 standard, this data can be Random number, the transaction serial number or time stamp, etc.)</li>
            <li>When mode=0x02, DataIn is the 16 bytes primary account number after shifting. DataIn+16 point to
            the 8 bytes data which has participated in PinBlock formatting. (refer to ISO9564 standard, this data
            can be Random number, the transaction serial number or time stamp,etc. But the higher 4 bits and lower
            4 bits of each byte should between 0xA~0xF. So, if the Mode=0x02, the bottom level will do this check
            for the 8 bytes data, it will return an error if does not meet the requirement.).</li>
            <li>When mode=0x03, dataIn is ISN [6 Bytes, ASCII code]</li>
            <li>When Mode=0x05, DataIn contains card account and CCS data. The format is PANlen (1 bytes) + CCSlen
            (1 bytes) + PAN (PANlen byte) + CCS (CCSlen byte). In which PAN is a card account (ASCII code), the
            current limited PANlen must be 18, CCSlen must be 0 or 8, CCS is ASCII code format.</li>
            </ul>
            </div></dd>
<dd><code>mode</code> - <div class="zh"> PIN BLOCK的格式
            <ul>
            <li>0x00:ISO9564_0</li>
            <li>0x01:ISO9564_1</li>
            <li>0x02:ISO9564_3</li>
            <li>0x03:HK EPS</li>
            <li>0x04:预留</li>
            <li>0x05:Italy 专用模式</li>
            </ul>
            </div> <div class="en"> PIN BLOCK Format
            <ul>
            <li>0x00:ISO9564_0</li>
            <li>0x01:ISO9564_1</li>
            <li>0x02:ISO9564_3</li>
            <li>0x03:HK EPS -EPS PINBLOCK Format</li>
            <li>0x04:Reserved</li>
            <li>0x05:Italy special mode</li>
            </ul>
            </div></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            <p>
            0:表示没有超时时间，PED不做超时控制
            </p>
            </div> <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            <p>
            0: No timeout time, not doing timeout control for PED.
            </p>
            </div></dd>
<dd><code>controlTime</code> - <div class="zh"> 等待第二个及之后的按键的超时时间,单位：毫秒(超过30s的为30s) </div> 
        <div class="en"> The time-out for waiting for the second and subsequent keys in milliseconds (30 seconds for more than 30 seconds) </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回pinBlock，如果bypass 返回NULL </div> <div class="en"> Return pinBlock byte array, if
         bypass,return NULL. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.02.00</dd>
</dl>
</li>
</ul>
<a name="verifyPlainPin-byte-java.lang.String-byte-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyPlainPin</h4>
<pre>byte[]&nbsp;verifyPlainPin(byte&nbsp;slot,
                      java.lang.String&nbsp;expPinLen,
                      byte&nbsp;mode,
                      int&nbsp;timeoutMs,
                      int&nbsp;controlTime)
               throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 实现脱机明文PIN校验功能。获取明文PIN，然后按照应用提供的卡片命令与卡片通道号，将明文PIN BLOCK直接发送给卡片(PIN BLOCK格式在用法部分描述)。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div
 class="en"> Achieve the function of verifying plaintext offline PIN. Get plaintext PIN and then Send plaintext
 PIN BLOCK to card according to card command and card slot number (PIN BLOCK format will be provided in operation
 part.). <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - <div class="zh"> 卡片所在的卡座号 </div> <div class="en"> card slot number </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合 可输入的合法密码长度字符串，应用程序把允许的密 码长度全部枚举出来，并且用","号隔开每个长度， 如允许输入4、6位密码并且允许无密码直接按确认，
            则该字符串应该设置为"0,4,6" </div> <div class="en"> Enumeration of 0-12.The enter password string with legal
            length. Application enumerates all possible lengths of PIN. ‘,’ will be used to separate each number
            of length. If 4 or 6 digits of PIN are allowed and it is also allowed to press ‘Enter’ without PIN
            .Then this string should be set as ‘0, 4, and 6’. </div></dd>
<dd><code>mode</code> - <div class="zh"> 0x00 IC卡命令模式，现支持符合EMV2000的IC卡命令 </div> <div class="en"> 0x00 IC Card Command
            Mode,Currently support EMV2000. </div></dd>
<dd><code>timeoutMs</code> - <div class="zh"> 输入PIN的超时时间，单位：毫秒 最大值为300000ms </div> <div class="en"> The timeout of PIN entry
            [ms],Maximum is 300000ms. </div></dd>
<dd><code>controlTime</code> - <div class="zh"> 等待第二个及之后的按键的超时时间,单位：毫秒(超过30s的为30s) </div> 
        <div class="en"> The time-out for waiting for the second and subsequent keys in milliseconds (30 seconds for more than 30 seconds) </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 卡片响应的状态码 (2字节：SW1+SW2) </div> <div class="en"> The status code of card response (2
         bytes: SW1+SW2). </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.02.00</dd>
</dl>
</li>
</ul>
<a name="verifyCipherPin-byte-java.lang.String-com.pax.dal.entity.RSAPinKey-byte-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyCipherPin</h4>
<pre>byte[]&nbsp;verifyCipherPin(byte&nbsp;slot,
                       java.lang.String&nbsp;expPinLen,
                       <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity">RSAPinKey</a>&nbsp;rsaPinKey,
                       byte&nbsp;mode,
                       int&nbsp;timeoutMs,
                       int&nbsp;controlTime)
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 实现脱机密文PIN校验功能。先获取明文PIN，再用应用提供的RsaPinKey对明文PIN按照EMV规范进行加密，然后用应用提供的卡片命令与卡片通道号，将密文PIN直接发送给卡片 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en"> Verify enciphered PIN offline. Get plain text PIN and then use RsaPinKey provided by application
 to encrypt plaintext PIN according to EMV standard. Send enciphered PIN to card according to card command and
 card channel number provided by application. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - <div class="zh"> 卡片所在的卡座号 </div> <div class="en"> card slot number </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合 可输入的合法密码长度字符串，应用程序把允许的密 码长度全部枚举出来，并且用","号隔开每个长度， 如允许输入4、6位密码并且允许无密码直接按确认，
            则该字符串应该设置为"0,4,6" </div> <div class="en"> Enumeration of 0-12.The enter password string with legal
            length. Application enumerates all possible lengths of PIN. ‘,’ will be used to separate each number
            of length. If 4 or 6 digits of PIN are allowed and it is also allowed to press ‘Enter’ without PIN
            .Then this string should be set as ‘0, 4, and 6’. </div></dd>
<dd><code>rsaPinKey</code> - <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity"><code>RSAPinKey</code></a></dd>
<dd><code>mode</code> - <div class="zh"> 0x00 IC卡命令模式，目前支持EMV2000。 </div> <div class="en"> 0x00 IC Card Command Mode,Currently
            support EMV2000. </div></dd>
<dd><code>timeoutMs</code> - <div class="zh"> 输入PIN的超时时间，单位：毫秒 最大值为300000ms </div> <div class="en"> The timeout of PIN input
            [unit:ms].Maximum is 300000Ms. </div></dd>
<dd><code>controlTime</code> - <div class="zh"> 等待第二个及之后的按键的超时时间,单位：毫秒(超过30s的为30s) </div> 
        <div class="en"> The time-out for waiting for the second and subsequent keys in milliseconds (30 seconds for more than 30 seconds) </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 卡片响应的状态码 (2字节：SW1+SW2) </div> <div class="en"> The card response code (2 bytes:SW1 and
         SW2) </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.02.00</dd>
</dl>
</li>
</ul>
<a name="setKeyBoardLayout-boolean-java.util.LinkedHashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyBoardLayout</h4>
<pre>byte[]&nbsp;setKeyBoardLayout(boolean&nbsp;isOnce,
                         java.util.LinkedHashMap&lt;View,java.lang.String&gt;&nbsp;keyboardInputs)
                  throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设置定制的Pin输入键盘布局  ,调用此方法前，需保证传入的View已绘制完成，
  如Activity.onWindowFocusChanged(boolean hasFocus),hasFocus=true时，调用此方法。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> 
 <div class="en">Set the custom Pin input keyboard layout,This method is called before, 
  need to ensure that the incoming View has been mapped, such as Activity.onWindowFocusChanged (Boolean hasFocus), 
  when hasFocus equals true, this method is called. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isOnce</code> - <div class="zh"> true:单次有效 false:重启机器前有效 </div> 
            <div class="en">true:single effect false:effective before restarting the device</div></dd>
<dd><code>keyboardInputs</code> - <div class="zh">键盘集合。注意：数字键必须按照键盘布局从左到右，从上到下的顺序加入Map。  
                      Map.Key:键实例，Map.value:表示键类型，NUM表示数字键，CLEAR表示清除键，ENTER表示确认键，CANCEL表示取消键</div> 
                      <div class="en">Keyboard set. Note: The numeric keys MUST be added to the map in order(from left to right, top to bottom), 
                      according to the keyboard layout. Map.key: Key instance, Map.value: represents Key type, NUM represents number Key, 
                      CLEAR represents CLEAR Key, ENTER represents confirm Key, and CANCEL represents CANCEL Key</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 数字键盘的顺序，为10个字节byte数组 </div> <div class="en">numeric keypad order, 10 byte array</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeTIK-byte-byte-byte-byte:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>writeTIK</h4>
<pre>void&nbsp;writeTIK(byte&nbsp;kbpkType,
              byte&nbsp;kbpkIndex,
              byte&nbsp;groupIndex,
              byte[]&nbsp;TR31keyBlock)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">注入TIK。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Injection of TIK. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>kbpkType</code> - <div class="zh">KBPK类型  0x01:TLK,0x02:TMK</div> <div class="en">KBPK type. 0x01:TLK,0x02:TMK</div></dd>
<dd><code>kbpkIndex</code> - <div class="zh">KBPK索引  当kbpkType=0x01,kbpkIndex=1;当kbpkType=0x02,kbpkIndex=[1-100]</div> 
                  <div class="en">KBPK index.if kbpkType=0x01,kbpkIndex=1.if kbpkType=0x02,kbpkIndex=[1-100]</div></dd>
<dd><code>groupIndex</code> - <div class="zh">DUKPT密钥组索引号 [1~40]</div> <div class="en">DUKPT key group index number [1~40]</div></dd>
<dd><code>TR31keyBlock</code> - <div class="zh">TR-31 Key Block</div> <div class="en">TR-31 Key Block</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.06.00</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/pax/dal/IMag.html" title="interface in com.pax.dal"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/pax/dal/IPed.html" target="_top">Frames</a></li>
<li><a href="IPed.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
